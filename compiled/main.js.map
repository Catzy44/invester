{"version":3,"file":"main.js","names":["ChetniDialog","WiadomosciUczestnika","UczestnikImportDialog","CopyUczestnikLegacyDialog","Dialog","showDialog","useEffect","useState","createRef","useCallback","cloneElement","React","OverdueAttenderPaymentsSMSDialog","DialogAttenderBrowseAttendances","jsx","___EmotionJSX","nitro","address","reactEl","injectToFieldName","fet","then","e","state","forceUpdate","catch","err","setState","error","gather","errorCallback","successCallback","kon","value","zebra","success","failure","options","res","name","modular","openClassesDetailedInfoDialog","attId","createElement","attenderId","openChetni","miejsceId","el","crEl","style","minWidth","box","build","inner","centered","title","draw","root","ReactDOM","createRoot","render","sendMessagesToOverdueAttenders","places","message","placesArr","openWiadomosci","ucz","uczestnikId","forceReloadUczestnicyByNumber","openWiadomosciByNumber","number","importUserDialog","grupaId","zamknijPopup","przeniesUczestnika","id","loadHistoriaSMSTable","HistoriaSMS","sendMessagesToUsersMulti","users","SendingMessages","response","setResponse","setError","className","method","body","JSON","stringify","resp","console","log","getSelectedAttender","selectors","attender","getCookie","document","cookie","parts","split","length","pop","shift","setCookie","days","expires","date","Date","setTime","getTime","toUTCString"],"sources":["../uncompiled/main.js"],"sourcesContent":["import ChetniDialog from '/js/compiled/chetni_dialog.js'\nimport WiadomosciUczestnika from '/js/compiled/wiadomosci_dialog.js'\n//import NewMessagesPinnedDialog from \"./panel_messages_news.js\"\nimport UczestnikImportDialog from \"./copy_uczestnik_dialog_depre\";\nimport CopyUczestnikLegacyDialog from \"./copy_uczestnik_dialog_depre\";\nimport {Dialog,showDialog} from \"./dialog.js\";\n//import {ManipulateAttenderClosedMonths} from \"./panel_platnosci\";\n//import {OverdueAttenderPaymentsSMS} from \"./dialog_overdue_attenders_sms.js\";\n\nconst { useEffect,useState,createRef,useCallback,cloneElement } = React\n\n\n\nimport \"./panel_messages_news.js\"\nimport \"./panel_platnosci.js\"\nimport \"./panel_sms_wew.js\"\nimport \"./dialog_attender_manipulate_payments.js\"\nimport \"./dialog_overdue_attenders_sms.js\"\nimport {OverdueAttenderPaymentsSMSDialog} from \"./dialog_overdue_attenders_sms.js\";\nimport {DialogAttenderBrowseAttendances} from \"./dialog_attender_browse_attendances\";\n//import {OverdueAttenderPaymentsSMSDialog} from \"./dialog_overdue_attenders_sms.js\";\n\nexport function nitro(address,reactEl,injectToFieldName = \"response\") {\n    fet(address).then(e=>{\n        reactEl.state[injectToFieldName] = e\n        reactEl.forceUpdate()\n    }).catch(err=>{\n        reactEl.setState({error:err})\n    })\n}\n\nexport function gather(address,reactEl,injectToFieldName = \"response\",errorCallback = null, successCallback = null) {\n    fet(address).then(e=>{\n        reactEl.setState(state=>{\n            state[injectToFieldName] = e\n            return state\n        })\n        if(successCallback != null) {\n            successCallback(e)\n        }\n    }).catch(err=>{\n        if(errorCallback != null) {\n            errorCallback(injectToFieldName,err)\n        }\n    })\n}\nexport function kon(reactEl,injectToFieldName) {\n    return (value)=>{\n        reactEl.setState(state=>{\n            state[injectToFieldName] = value\n            return state\n        })\n    }\n}\nexport function zebra(address,success,failure,options = null) {\n    fet(address,options).then(res=>{\n        if(success == null) {\n            return\n        }\n        if(success.name != \"kon\") {\n            success(res)\n            return\n        }\n        success(res)\n    }).catch(err=>{\n        if(failure == null) {\n            return\n        }\n        if(failure.name != \"kon\") {\n            failure(err)\n            return\n        }\n        failure(err)\n    })\n}\n\nmodular.openClassesDetailedInfoDialog = (attId)=>{\n    showDialog(<DialogAttenderBrowseAttendances attenderId={attId}/>)\n}\nmodular.openChetni = (miejsceId)=>{\n    let el = crEl(\"div\",\"box_chetni\")\n    el.style.minWidth = \"190px\"\n    let box = Dialog.build().inner(el).centered(true).title(\"chętni do zapisania\").draw()\n\n    const root = ReactDOM.createRoot(el)\n    root.render(<ChetniDialog miejsceId={miejsceId}/>)\n}\nmodular.sendMessagesToOverdueAttenders = (places,message)=>{showDialog(<OverdueAttenderPaymentsSMSDialog placesArr={places} message={message}/>)}\nmodular.openWiadomosci = (ucz)=>{showDialog(<WiadomosciUczestnika uczestnikId={ucz} forceReloadUczestnicyByNumber={true}/>)}\nmodular.openWiadomosciByNumber = (number)=>{showDialog(<WiadomosciUczestnika number={number}/>)}\n// executed from phpscripts/dodawanieUczestnika/importuj z poprzedniego roku\nmodular.importUserDialog = (miejsceId,grupaId) => {\n    zamknijPopup()\n    showDialog(<Dialog title=\"Import uczestnika\">\n        <UczestnikImportDialog miejsceId={miejsceId} grupaId={grupaId}/>\n    </Dialog>)\n}\nmodular.przeniesUczestnika = (id) => {\n    showDialog(<Dialog title=\"Kopiowanie uczestnika\">\n        <CopyUczestnikLegacyDialog uczestnikId={id}/>\n    </Dialog>)\n}\nmodular.loadHistoriaSMSTable = (el,miejsceId)=> {\n\n\n    const root = ReactDOM.createRoot(el)\n    root.render(\n        <HistoriaSMS miejsceId={miejsceId}/>\n    )\n}\n/* executed from script_legacy.js/sendWewSms() */\nmodular.sendMessagesToUsersMulti = (message, users) => {\n\n    function SendingMessages({uczestnikId,title}) {\n        let [response, setResponse] = useState(null)\n        let [error, setError] = useState(null)\n\n        if(error != null) {\n            return (\n                <div className=\"send_messages_dialog\">\n                   <span>Wystąpił błąd:</span>\n                   <span>{error.message}</span>\n               </div>\n            )\n        }\n\n        if(response == null) {\n            fet(\"sms_groups/send\",{\n                method:\"POST\",\n                body: JSON.stringify({\n                    \"userIds\":users,\n                    \"message\":message\n                })\n            }).then(resp=>{\n                setResponse(resp)\n            }).catch((err)=>{\n                setError(err)\n                console.log(err)\n            })\n            return (\n                <div className=\"send_messages_dialog\">\n                    <span>przetwarzanie...</span>\n                </div>\n            )\n        }\n\n        //console.log(response);//TODO\n\n        return (\n            <div className=\"send_messages_dialog\">\n                <span>Sukces!</span>\n            </div>\n        )\n    }\n\n    showDialog(\n        <Dialog title=\"Wysyłanie wiadomości\">\n            <SendingMessages/>\n        </Dialog>\n    )\n}\n\n\nfunction getSelectedAttender() {\n    return modular.selectors.attender\n}\nfunction getCookie(name) {\n    let value = \"; \" + document.cookie;\n    let parts = value.split(\"; \" + name + \"=\");\n    if (parts.length === 2) return parts.pop().split(\";\").shift();\n}\nfunction setCookie(name,value,days) {\n    let expires = \"\";\n    if (days) {\n        let date = new Date();\n        date.setTime(date.getTime() + (days*24*60*60*1000));\n        expires = \"; expires=\" + date.toUTCString();\n    }\n    document.cookie = name + \"=\" + (value || \"\")  + expires + \"; path=/\";\n}"],"mappings":"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","ignoreList":[]}