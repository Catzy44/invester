{"version":3,"file":"panel_platnosci.js","names":["showDialog","DialogAttenderManupulatePayments","DialogAttenderManupulateGroupChanges","DialogInstructorInfo","DialogPlaceInfo","jsx","___EmotionJSX","GroupAttendersInfoTableRows","React","Component","state","groupInfo","error","attenderArr","constructor","props","id","groupId","errorF","err","console","log","setState","fet","placeId","then","ret","name","classesStartTime","classesEndTime","catch","render","createElement","timestamp","idRoku","groupName","dzienZajec","cenaZaJedneZajecia","uczestnicy","GrSelectionQuad","isSelected","panel","selectedGroup","selectedGroups","includes","attenderId","className","onClick","selectedAttenders","forEach","att","setSelectedAttender","setSelectedGroup","AttSelectionQuad","isSelectedAttender","selectedAttender","attenders_rows","map","grupaPrzedszkolna","umowa","kolor","interakcja","attenderInfo","parentInfo","idx","isRowSelected","style","midCol","leftCol","rightCol","backgroundImage","key","firstName","lastName","beautifyPhoneNum","number","umowaf","Fragment","colSpan","GroupAttendersPaymentsTableRows","classPricesForAllMonths","usersPaymentInfoArr","seasonInfo","attarr","nazwa","fetchNextUser","index","attender","setTimeout","text","startingMonth","parseInt","split","fromFirstToLatestMonth","funct","i","monthIdx","monthNamesEls","monthPricesEls","emptyMonthsNums","setMP","num","pr","push","miesiacF","price","godzinaZajecOd","godzinaZajecDo","d","Date","attendersRows","u","imie","nazwisko","telefonOpiekuna","payments","paymentsBoxes","gen","monthNum","status","amountPaid","amountToPay","closed","PaymentStatus","NO_CLASSES","NOT_PAID","PAID_PARTIALLY","PAID","NOT_YET_CHECKED","GroupAttendersPaymentsTableRowsAdults","biggestCycle","Math","max","Object","keys","p","GroupAttendersPaymentsTableRowsPlace","miejsceId","paymentsObj","PanelPlatnosci","placeInfo","instrInfo","modular","selectors","place","instructor","directorFirstname","undefined","placeType","type","address","instructorId","src","avatar","phoneNum","dzien","defaultClassWeekDay","PaymentsLegend","EditionsMenuBtn","action","dodajGrupe","gr","panelEdycjiGrupyById","dodajUczestnika","at","panelEdycjiUczestnikaById","openWiadomosci","PlaceType","TYPE_PLACE","historiaPlatnosciPlacowka","historiaPlatnosci","groups","TYPE_KIDS","TYPE_ADULTS","program","panels","children","backgroundColor","str","length","substring"],"sources":["../uncompiled/panel_platnosci.js"],"sourcesContent":["/*modular.panels.payments = {\r\n    show:(callback)=>{\r\n        const platnosciPanelRoot = ReactDOM.createRoot(document.getElementById(\"ppanel\"))\r\n        platnosciPanelRoot.render(<PanelPlatnosci miejsceId={modular.selectors.place}/>)\r\n        callback()\r\n    },\r\n    name: \"payments\"\r\n}*/\r\n\r\nimport {showDialog} from \"./dialog.js\";\r\nimport {DialogAttenderManupulatePayments} from \"./dialog_attender_manipulate_payments.js\";\r\nimport {DialogAttenderManupulateGroupChanges} from \"./dialog_attender_manipulate_group_changes\";\r\nimport {DialogInstructorInfo} from \"./dialog_instructor_info\";\r\nimport {DialogPlaceInfo} from \"./dialog_place_info\";\r\n\r\nexport class GroupAttendersInfoTableRows extends React.Component {\r\n    state = {groupInfo: null, error: null,attenderArr:null}\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.id = props.groupId\r\n\r\n        const errorF = (err)=>{\r\n            console.log(err)\r\n            this.setState({...this.state, error: err})\r\n        }\r\n\r\n\r\n        if(this.id == 0) {\r\n            //discharged\r\n            fet(`miejsca/${this.props.placeId}/attendersDischarged`).then((ret) => {\r\n                this.setState({\r\n                    ...this.state,\r\n                    attenderArr: ret,\r\n                    groupInfo:{name:\"Wypisani\",classesStartTime:\"--\",classesEndTime:\"--\"}\r\n                })\r\n            }).catch(errorF)\r\n            return\r\n        } else if(this.id == -1) {\r\n            //discharged temp\r\n            fet(`miejsca/${this.props.placeId}/attendersReserve`).then((ret) => {\r\n                this.setState({\r\n                    ...this.state,\r\n                    attenderArr: ret,\r\n                    groupInfo:{name:\"Rezerwowa\",classesStartTime:\"--\",classesEndTime:\"--\"}\r\n                })\r\n            }).catch(errorF)\r\n            return\r\n        }\r\n\r\n        fet(`grupy/${this.id}`).then((ret) => {\r\n            this.setState({...this.state, groupInfo: ret})\r\n            fet(`grupy/${this.id}/attenders`).then((ret) => {\r\n                this.setState({...this.state, attenderArr: ret})\r\n            }).catch(errorF)\r\n        }).catch(errorF)\r\n    }\r\n\r\n    render() {\r\n        if(this.state.error != null) {\r\n            return <tr><td>Grupa {this.id} Błąd! {this.state.error}</td></tr>\r\n        }\r\n        if(this.state.groupInfo == null) {\r\n            return <tr><td></td></tr>\r\n            //return <tr><td>Wczytywanie danych grupy {this.id}...</td></tr>\r\n        }\r\n        if(this.state.attenderArr == null) {\r\n            return <tr><td></td></tr>\r\n            //return <tr><td>Wczytywanie uczestników grupy {this.id}...</td></tr>\r\n        }\r\n        const groupInfo = this.state.groupInfo\r\n        const {timestamp,idRoku,name:groupName,classesStartTime,classesEndTime,dzienZajec,cenaZaJedneZajecia,uczestnicy} = groupInfo\r\n\r\n\r\n        const GrSelectionQuad = (props)=> {\r\n            const isSelected = props.panel.state.selectedGroup === props.groupId\r\n                || (props.panel.state.selectedGroups != null && props.panel.state.selectedGroups.includes(props.attenderId))\r\n\r\n            return <th className=\"selection-box\" onClick={()=>{\r\n                if(props.panel.state.selectedAttenders != null) {\r\n                    if(props.panel.state.selectedGroups.includes(props.groupId)) {\r\n                        this.state.attenderArr.forEach(att=>{\r\n                            props.panel.setSelectedAttender(att.id,false)\r\n                        })\r\n                        props.panel.setSelectedGroup(props.groupId,false)\r\n                    } else {\r\n                        this.state.attenderArr.forEach(att=>{\r\n                            props.panel.setSelectedAttender(att.id,true)\r\n                        })\r\n                        props.panel.setSelectedGroup(props.groupId,true)\r\n                    }\r\n                    return\r\n                }\r\n\r\n\r\n                props.panel.setSelectedGroup(props.groupId)\r\n            }}>{isSelected ? \"v\" : \"\"}</th>\r\n        }\r\n\r\n        const AttSelectionQuad = (props)=> {\r\n\r\n            const isSelectedAttender = props.panel.state.selectedAttender === props.attenderId\r\n            || (props.panel.state.selectedAttenders != null && props.panel.state.selectedAttenders.includes(props.attenderId))\r\n\r\n\r\n\r\n            return <th className=\"selection-box\" onClick={()=>{\r\n                if(props.panel.state.selectedAttenders != null) {\r\n                    props.panel.setSelectedAttender(props.attenderId,!isSelectedAttender)\r\n                    return\r\n                }\r\n\r\n\r\n                props.panel.setSelectedAttender(props.attenderId)\r\n            }}>{isSelectedAttender ? \"v\" : \"\"}</th>\r\n        }\r\n\r\n        const attenderArr = this.state.attenderArr\r\n        const attenders_rows = attenderArr.map(({id,/*imie,nazwisko,*/grupaPrzedszkolna,/*telefonOpiekuna,*/umowa,kolor,interakcja,attenderInfo,parentInfo},idx)=>{\r\n            const isRowSelected = this.props.panel.state.selectedAttender == id\r\n            let style = {}\r\n            const midCol = kolor != null ? kolor : \"white\"\r\n            const leftCol = interakcja == 1 ? \"orange\" : midCol\r\n            const rightCol = umowa == 0 ? \"red\" : midCol\r\n            style.backgroundImage = `linear-gradient(to right, ${leftCol} 8%, ${midCol} 10%, ${midCol} 90%,${rightCol} 92%)`\r\n\r\n            return <tr style={style} key={\"payments_attenderinfo_c\" + this.id + \"_\" + idx}\r\n                       className={`userinfo${isRowSelected ? \" row-selected\" : \"\"}`}>\r\n                <td>{idx+1}</td>\r\n                <AttSelectionQuad panel={this.props.panel} attenderId={id}/>\r\n                <td>{`${attenderInfo.firstName} ${attenderInfo.lastName}`}</td>\r\n                <td>{grupaPrzedszkolna}</td>\r\n                <td>{beautifyPhoneNum(parentInfo.number)}</td>\r\n                <td>{umowaf(umowa)}</td>\r\n            </tr>\r\n        })\r\n\r\n        return <>\r\n            <tr key={\"payments_attenderinfo_a\"+this.id} className=\"label\">\r\n                <th></th>\r\n                <th></th>\r\n                {\r\n                    this.id == 0 || this.id == 1 ?\r\n                        <th colSpan=\"3\">{`${groupName}`}</th>\r\n                        :\r\n                        <th colSpan=\"3\">{`${groupName} [${classesStartTime} - ${classesEndTime}]`}</th>\r\n                }\r\n                <th></th>\r\n            </tr>\r\n            <tr key={\"payments_attenderinfo_b\"+this.id} className=\"label\">\r\n                <th>lp</th>\r\n                <GrSelectionQuad panel={this.props.panel} groupId={this.id}/>\r\n                <th>imię i nazwisko</th>\r\n                <th>grupa przedszkolna</th>\r\n                <th>nr tel</th>\r\n                <th>u</th>\r\n            </tr>\r\n            {attenders_rows}\r\n        </>\r\n    }\r\n}\r\nclass GroupAttendersPaymentsTableRows extends React.Component {\r\n    state = {groupInfo: null, error: null, attenderArr:null, classPricesForAllMonths: null, usersPaymentInfoArr: null, seasonInfo: null}\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.id = props.groupId\r\n\r\n        const errorF = (err)=>{\r\n            console.log(err)\r\n            this.setState({...this.state, error: err})\r\n        }\r\n\r\n        if(this.id == 0 || this.id == 0) {\r\n            /* SPECIAL CASE: DISCHARGED ATTENDERS */\r\n            fet(`miejsca/${this.props.placeId}/attendersDischarged`).then((attarr) => {\r\n                this.setState({\r\n                    ...this.state,\r\n                    attenderArr: attarr,\r\n                    groupInfo:{nazwa:\"Wypisani\"}\r\n                })\r\n\r\n                const fetchNextUser = (index = 0)=> {\r\n                    const attender = attarr[index]\r\n                    if(attender == null) {\r\n                        return\r\n                    }\r\n\r\n                    fet(`uczestnicy/${attender['id']}/payments`).then((ret) => {\r\n                        this.setState((state)=>{\r\n                            state.attenderArr[index]['payments'] = ret\r\n                            return state\r\n                        })\r\n                        fetchNextUser(index+1)\r\n                    }).catch(errorF)\r\n                }\r\n                fetchNextUser()\r\n            }).catch(errorF)\r\n\r\n            fet(`miejsca/${this.props.placeId}/season`).then((ret) => {\r\n                this.setState((state)=>{\r\n                    return {...state, seasonInfo: ret}\r\n                })\r\n            }).catch(errorF)\r\n        } else {\r\n            /* DEFAULT CASE */\r\n            fet(`grupy/${this.id}`).then((ret) => {\r\n                this.setState((state)=>{\r\n                    return {...state, groupInfo: ret}\r\n                })\r\n\r\n                setTimeout(()=>{\r\n                    fet(`grupy/${this.id}/attenders`).then((attarr) => {\r\n                        this.setState({...this.state, attenderArr: attarr})\r\n                        const fetchNextUser = (index = 0)=> {\r\n                            const attender = attarr[index]\r\n                            if(attender == null) {\r\n                                return\r\n                            }\r\n\r\n                            fet(`uczestnicy/${attender['id']}/payments`).then((ret) => {\r\n                                this.setState((state)=>{\r\n                                    state.attenderArr[index]['payments'] = ret\r\n                                    return state\r\n                                })\r\n                                fetchNextUser(index+1)\r\n                            }).catch(errorF)\r\n                        }\r\n                        fetchNextUser()\r\n\r\n                    }).catch(errorF)\r\n                },100)\r\n            }).catch(errorF)\r\n\r\n            fet(`grupy/${this.id}/classPrices`).then((ret) => {\r\n                this.setState((state)=>{\r\n                    return {...state, classPricesForAllMonths: ret}\r\n                })\r\n            }).catch(errorF)\r\n\r\n            fet(`grupy/${this.id}/season`).then((ret) => {\r\n                this.setState((state)=>{\r\n                    return {...state, seasonInfo: ret}\r\n                })\r\n            }).catch(errorF)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if(this.state.error != null) {\r\n            return <tr><td>Błąd! {this.state.error.text}</td></tr>\r\n        }\r\n        if(this.state.groupInfo == null) {\r\n            return <tr><td></td></tr>\r\n            //return <tr><td>Wczytywanie danych grupy {this.id}...</td></tr>\r\n        }\r\n        if(this.state.attenderArr == null) {\r\n            return <tr><td></td></tr>\r\n            //return <tr><td>Wczytywanie uczestników grupy {this.id}...</td></tr>\r\n        }\r\n        if(this.state.seasonInfo == null) {\r\n            return <tr><td></td></tr>\r\n            //return <tr><td>Wczytywanie sezonu grupy {this.id}...</td></tr>\r\n        }\r\n        /*if(this.state.classPricesForAllMonths == null) {\r\n            return <tr><td>Wczytywanie cen zajęć {this.id}...</td></tr>\r\n        }*/\r\n\r\n        const startingMonth = parseInt(this.state.seasonInfo['startDate'].split('-')[1])\r\n        const fromFirstToLatestMonth = (funct) => {\r\n            for(let i = 0; i < 12; i++) {\r\n                const monthIdx = (startingMonth-1+i)%12+1\r\n                funct(monthIdx)\r\n            }\r\n        }\r\n\r\n        const monthNamesEls = []\r\n        const monthPricesEls = []\r\n        const emptyMonthsNums = []\r\n\r\n        const setMP = (num,pr)=>{\r\n            monthNamesEls.push(<th key={\"nam_\"+num}>{miesiacF(num)}</th>)\r\n            monthPricesEls.push(<th key={\"pri_\"+num}>{pr}</th>)\r\n        }\r\n\r\n        fromFirstToLatestMonth((num)=>{\r\n            if(this.state.classPricesForAllMonths == null) {\r\n                setMP(num,null)\r\n                return\r\n            }\r\n            const price = this.state.classPricesForAllMonths[num]\r\n            if(price == 0) {\r\n                emptyMonthsNums.push(num)\r\n                return\r\n            }\r\n            setMP(num,price)\r\n        })\r\n\r\n        const groupInfo = this.state.groupInfo\r\n        const {timestamp,idRoku,nazwa,godzinaZajecOd,godzinaZajecDo,dzienZajec,cenaZaJedneZajecia,uczestnicy} = groupInfo\r\n\r\n        const d = new Date();\r\n        //let currentMonthNum = d.getMonth(); //0->11\r\n\r\n        const attenderArr = this.state.attenderArr\r\n        const attendersRows = attenderArr.map((u,idx)=>{\r\n            const {id,imie,nazwisko,grupaPrzedszkolna,telefonOpiekuna,umowa,payments} = u\r\n\r\n            if(payments == null) {\r\n                return <tr key={\"payments_attenderinfo_c\"+this.id+\"_\"+idx}><td>---</td></tr>\r\n            }\r\n            const paymentsBoxes = []\r\n            const gen = (monthNum)=>{\r\n                const {status,amountPaid,amountToPay,closed} = payments[monthNum]\r\n                if(status == PaymentStatus.NO_CLASSES) {\r\n                    return <td key={monthNum} className=\"payments-quad-noclasses\"></td>\r\n                } else if(status == PaymentStatus.NOT_PAID) {\r\n                    return <td key={monthNum} className=\"payments-quad-notpaid\">0/{amountToPay}</td>\r\n                } else if(status == PaymentStatus.PAID_PARTIALLY) {\r\n                    return <td key={monthNum} className=\"payments-quad-paidpartially\">{amountPaid}/{amountToPay}</td>\r\n                } else if(status == PaymentStatus.PAID) {\r\n                    return <td key={monthNum} className={\"payments-quad-paid\"+(closed ? \" payments-quad-closed\" : \"\")}>{amountPaid}</td>\r\n                } else if(status == PaymentStatus.NOT_YET_CHECKED) {\r\n                    return <td key={monthNum} className=\"payments-quad-notchecked\">{(amountPaid == 0 ? \"\" : (amountPaid == amountToPay ? amountPaid : amountPaid+\"/\"+amountToPay))}</td>\r\n                }\r\n            }\r\n\r\n            fromFirstToLatestMonth((num)=>{\r\n                if(emptyMonthsNums.includes(num)) {\r\n                    return\r\n                }\r\n                paymentsBoxes.push(gen(num))\r\n            })\r\n\r\n            const isRowSelected = this.props.panel.state.selectedAttender == id\r\n            return <tr key={\"payments_attenderinfo_c\"+this.id+\"_\"+idx} className={`payment-boxes${isRowSelected ? \" row-selected\":\"\"}`}>\r\n                {paymentsBoxes}\r\n            </tr>\r\n        })\r\n\r\n        return <>\r\n            <tr key={\"payments_payments_a\"+this.id} className=\"label\">\r\n                {monthNamesEls}\r\n            </tr>\r\n            <tr key={\"payments_payments_b\"+this.id} className=\"label\">\r\n                {monthPricesEls}\r\n            </tr>\r\n            {attendersRows}\r\n        </>\r\n    }\r\n}\r\nclass GroupAttendersPaymentsTableRowsAdults extends React.Component {\r\n    state = {groupInfo: null, error: null, attenderArr:null, classPricesForAllMonths: null, usersPaymentInfoArr: null, seasonInfo: null}\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.id = props.groupId\r\n\r\n        const errorF = (err)=>{\r\n            console.log(err)\r\n            this.setState({...this.state, error: err})\r\n        }\r\n\r\n        if(this.id == 0 || this.id == 0) {\r\n            /* SPECIAL CASE: DISCHARGED ATTENDERS */\r\n            fet(`miejsca/${this.props.placeId}/attendersDischarged`).then((attarr) => {\r\n                this.setState({\r\n                    ...this.state,\r\n                    attenderArr: attarr,\r\n                    groupInfo:{\r\n                        nazwa:\"Wypisani\",\r\n                        godzinaZajecOd:\"--\",\r\n                        godzinaZajecDo:\"--\"\r\n                    }\r\n                })\r\n\r\n                const fetchNextUser = (index = 0)=> {\r\n                    const attender = attarr[index]\r\n                    if(attender == null) {\r\n                        return\r\n                    }\r\n\r\n                    fet(`uczestnicy/${attender['id']}/payments`).then((ret) => {\r\n                        this.setState((state)=>{\r\n                            state.attenderArr[index]['payments'] = ret\r\n                            return state\r\n                        })\r\n                        fetchNextUser(index+1)\r\n                    }).catch(errorF)\r\n                }\r\n                fetchNextUser()\r\n            }).catch(errorF)\r\n\r\n            fet(`miejsca/${this.props.placeId}/season`).then((ret) => {\r\n                this.setState((state)=>{\r\n                    return {...state, seasonInfo: ret}\r\n                })\r\n            }).catch(errorF)\r\n        } else {\r\n            fet(`grupy/${this.id}`).then((ret) => {\r\n                this.setState((state)=>{\r\n                    return {...state, groupInfo: ret}\r\n                })\r\n\r\n                setTimeout(()=>{\r\n                    fet(`grupy/${this.id}/attenders`).then((attarr) => {\r\n                        this.setState({...this.state, attenderArr: attarr})\r\n                        const fetchNextUser = (index = 0)=> {\r\n                            const attender = attarr[index]\r\n                            if(attender == null) {\r\n                                return\r\n                            }\r\n\r\n                            fet(`uczestnicy/${attender['id']}/payments`).then((ret) => {\r\n                                this.setState((state)=>{\r\n                                    state.attenderArr[index]['payments'] = ret\r\n                                    return state\r\n                                })\r\n                                fetchNextUser(index+1)\r\n                            }).catch(errorF)\r\n                        }\r\n                        fetchNextUser()\r\n\r\n                    }).catch(errorF)\r\n                },100)\r\n            }).catch(errorF)\r\n\r\n            fet(`grupy/${this.id}/classPrices`).then((ret) => {\r\n                this.setState((state)=>{\r\n                    return {...state, classPricesForAllMonths: ret}\r\n                })\r\n            }).catch(errorF)\r\n\r\n            fet(`grupy/${this.id}/season`).then((ret) => {\r\n                this.setState((state)=>{\r\n                    return {...state, seasonInfo: ret}\r\n                })\r\n            }).catch(errorF)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if(this.state.error != null) {\r\n            return <tr><td>Błąd! {this.state.error.text}</td></tr>\r\n        }\r\n        if(this.state.groupInfo == null) {\r\n            return <tr><td></td></tr>\r\n            //return <tr><td>Wczytywanie danych grupy {this.id}...</td></tr>\r\n        }\r\n        if(this.state.attenderArr == null) {\r\n            return <tr><td></td></tr>\r\n            //return <tr><td>Wczytywanie uczestników grupy {this.id}...</td></tr>\r\n        }\r\n        if(this.state.seasonInfo == null) {\r\n            return <tr><td></td></tr>\r\n            //return <tr><td>Wczytywanie sezonu grupy {this.id}...</td></tr>\r\n        }\r\n        if(this.state.classPricesForAllMonths == null) {\r\n            return <tr><td></td></tr>\r\n            //return <tr><td>Wczytywanie cen zajęć {this.id}...</td></tr>\r\n        }\r\n\r\n        const startingMonth = parseInt(this.state.seasonInfo['startDate'].split('-')[1])\r\n\r\n        const monthNamesEls = []\r\n        const monthPricesEls = []\r\n        const emptyMonthsNums = []\r\n\r\n        const biggestCycle = Math.max(...Object.keys(this.state.classPricesForAllMonths).map(p => parseInt(p)))\r\n\r\n        for(let i = 1; i <= biggestCycle; i++) {\r\n            const price = this.state.classPricesForAllMonths[i]\r\n            if(price == 0) {\r\n                emptyMonthsNums.push(i)\r\n                return\r\n            }\r\n            monthNamesEls.push(<th key={\"nam_\"+i}>cykl {i}</th>)\r\n            monthPricesEls.push(<th key={\"pri_\"+i}>{price}</th>)\r\n        }\r\n\r\n        const groupInfo = this.state.groupInfo\r\n        const {timestamp,idRoku,nazwa,godzinaZajecOd,godzinaZajecDo,dzienZajec,cenaZaJedneZajecia,uczestnicy} = groupInfo\r\n\r\n        const attenderArr = this.state.attenderArr\r\n        const attendersRows = attenderArr.map((u,idx)=>{\r\n            const {id,imie,nazwisko,grupaPrzedszkolna,telefonOpiekuna,umowa,payments} = u\r\n\r\n            if(payments == null) {\r\n                return <tr key={\"payments_attenderinfo_c\"+this.id+\"_\"+idx}><td>---</td></tr>\r\n            }\r\n            const paymentsBoxes = []\r\n            const gen = (monthNum)=>{\r\n                const {status,amountPaid,amountToPay,closed} = payments[monthNum]\r\n                if(status == PaymentStatus.NO_CLASSES) {\r\n                    return <td key={monthNum} className=\"payments-quad-noclasses\"></td>\r\n                } else if(status == PaymentStatus.NOT_PAID) {\r\n                    return <td key={monthNum} className=\"payments-quad-notpaid\">0/{amountToPay}</td>\r\n                } else if(status == PaymentStatus.PAID_PARTIALLY) {\r\n                    return <td key={monthNum} className=\"payments-quad-paidpartially\">{amountPaid}/{amountToPay}</td>\r\n                } else if(status == PaymentStatus.PAID) {\r\n                    return <td key={monthNum} className={\"payments-quad-paid\"+(closed ? \" payments-quad-closed\" : \"\")}>{amountPaid}</td>\r\n                } else if(status == PaymentStatus.NOT_YET_CHECKED) {\r\n                    return <td key={monthNum} className=\"payments-quad-notchecked\">{amountPaid == 0 ? \"\" : amountPaid}</td>\r\n                }\r\n            }\r\n\r\n            for(let i = 1; i <= biggestCycle; i++) {\r\n                if(emptyMonthsNums.includes(i)) {\r\n                    return\r\n                }\r\n                paymentsBoxes.push(gen(i))\r\n            }\r\n\r\n            const isRowSelected = this.props.panel.state.selectedAttender == id\r\n            return <tr key={\"payments_attenderinfo_c\"+this.id+\"_\"+idx} className={`payment-boxes${isRowSelected?\" row-selected\":\"\"}`}>\r\n                {paymentsBoxes}\r\n            </tr>\r\n        })\r\n\r\n        return <>\r\n            <tr key={\"payments_payments_a\"+this.id} className=\"label\">\r\n                {monthNamesEls}\r\n            </tr>\r\n            <tr key={\"payments_payments_b\"+this.id} className=\"label\">\r\n                {monthPricesEls}\r\n            </tr>\r\n            {attendersRows}\r\n        </>\r\n    }\r\n}\r\nclass GroupAttendersPaymentsTableRowsPlace extends React.Component {\r\n    state = {groupInfo: null, error: null, payments: null, classPricesForAllMonths: null, usersPaymentInfoArr: null, seasonInfo: null}\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.id = props.miejsceId\r\n\r\n        fet(`miejsca/${this.id}/payments`).then((ret) => {\r\n            this.setState((state)=>{\r\n                state.payments = ret\r\n                return state\r\n            })\r\n        }).catch((ret) => {\r\n            this.setState({...this.state, error: ret})\r\n        })\r\n\r\n        fet(`miejsca/${this.id}/season`).then((ret) => {\r\n            this.setState((state)=>{\r\n                return {...state, seasonInfo: ret}\r\n            })\r\n        }).catch((ret) => {\r\n            console.log(ret)\r\n            this.setState({...this.state, error: ret})\r\n        })\r\n    }\r\n\r\n    render() {\r\n        if(this.state.error != null) {\r\n            return <tr><td>Błąd! {this.state.error.text}</td></tr>\r\n        }\r\n        if(this.state.seasonInfo == null) {\r\n            return <tr><td></td></tr>\r\n            //return <tr><td>Wczytywanie sezonu grupy {this.id}...</td></tr>\r\n        }\r\n        if(this.state.payments == null) {\r\n            return <tr><td></td></tr>\r\n            //return <tr><td>Wczytywanie płatności...</td></tr>\r\n        }\r\n\r\n        const startingMonth = parseInt(this.state.seasonInfo['startDate'].split('-')[1])\r\n        const fromFirstToLatestMonth = (funct) => {\r\n            for(let i = 0; i < 12; i++) {\r\n                const monthIdx = (startingMonth-1+i)%12+1\r\n                funct(monthIdx)\r\n            }\r\n        }\r\n\r\n        const paymentsObj = this.state.payments\r\n\r\n        const monthNamesEls = []\r\n        const monthPricesEls = []\r\n        const emptyMonthsNums = []\r\n\r\n        fromFirstToLatestMonth((num)=>{\r\n            const price = paymentsObj[num]['amountToPay']\r\n            if(price == 0) {\r\n                emptyMonthsNums.push(num)\r\n                return\r\n            }\r\n            monthNamesEls.push(<th key={\"nam_\"+num}>{miesiacF(num)}</th>)\r\n            monthPricesEls.push(<th key={\"pri_\"+num}>{price}</th>)\r\n        })\r\n\r\n        const paymentsBoxes = []\r\n        const gen = (monthNum)=>{\r\n            const {status,amountPaid,amountToPay,closed} = paymentsObj[monthNum]\r\n            if(status == PaymentStatus.NO_CLASSES) {\r\n                return <td key={monthNum} className=\"payments-quad-noclasses\"></td>\r\n            } else if(status == PaymentStatus.NOT_PAID) {\r\n                return <td key={monthNum} className=\"payments-quad-notpaid\">0</td>\r\n            } else if(status == PaymentStatus.PAID_PARTIALLY) {\r\n                return <td key={monthNum} className=\"payments-quad-paidpartially\">{amountPaid}/{amountToPay}</td>\r\n            } else if(status == PaymentStatus.PAID) {\r\n                return <td key={monthNum} className={\"payments-quad-paid\"+(closed ? \" payments-quad-closed\" : \"\")}>{amountPaid}</td>\r\n            } else if(status == PaymentStatus.NOT_YET_CHECKED) {\r\n                return <td key={monthNum} className=\"payments-quad-notchecked\">{amountPaid}</td>\r\n            }\r\n        }\r\n\r\n        fromFirstToLatestMonth((num)=>{\r\n            if(emptyMonthsNums.includes(num)) {\r\n                return\r\n            }\r\n            paymentsBoxes.push(gen(num))\r\n        })\r\n\r\n        return <>\r\n            <tr key={\"payments_payments_a\"+this.id} className=\"label\">\r\n                {monthNamesEls}\r\n            </tr>\r\n            <tr key={\"payments_payments_b\"+this.id} className=\"label\">\r\n                {monthPricesEls}\r\n            </tr>\r\n            <tr key={\"payments_attenderinfo_c\"+this.id+\"_\"+0} className=\"payment-boxes\">\r\n                {paymentsBoxes}\r\n            </tr>\r\n        </>\r\n    }\r\n}\r\n\r\nclass PanelPlatnosci extends React.Component {\r\n    state = {placeInfo:null,instrInfo:null,error:null,selectedAttender:0,selectedGroup:0}\r\n    constructor(props) {\r\n        super(props);\r\n        this.miejsceId = modular.selectors.place\r\n        this.state.selectedAttender = modular.selectors.attender\r\n\r\n        function err(err) {\r\n            console.log(\"errored \")\r\n            this.setState({...this.state,error:err})\r\n        }\r\n\r\n        fet(`miejsca/${this.miejsceId}?projection=withGroups`).then((ret)=>{\r\n            this.setState({...this.state,placeInfo:ret})\r\n\r\n            fet(`instruktorzy/${ret.instructor}`).then((ret)=>{\r\n                this.setState({...this.state,instrInfo:ret})\r\n            }).catch(err)\r\n\r\n        }).catch(err)\r\n    }\r\n\r\n    setSelectedAttender = (att)=>{\r\n        modular.selectors.attender = att\r\n        this.setState(state=>({...state,selectedAttender:att}))\r\n    }\r\n    setSelectedGroup = (att)=>{\r\n        this.setState(state=>({...state,selectedGroup:att}))\r\n    }\r\n\r\n    render() {\r\n        if(this.state.error != null) {\r\n            return <span>Błąd! {this.state.error}</span>\r\n        }\r\n        if(this.state.placeInfo == null) {\r\n            return <span>Wczytywanie...</span>\r\n        }\r\n        if(this.state.instrInfo == null) {\r\n            return <span>Wczytywanie...</span>\r\n        }\r\n        const placeInfo = this.state.placeInfo\r\n        placeInfo.directorFirstname = undefined;\r\n\r\n        const placeType = placeInfo.type\r\n\r\n        const instrInfo = this.state.instrInfo\r\n        return <div className=\"panel-payments\">\r\n            <div className=\"payments-top\">\r\n                <div className=\"payments-info\">\r\n                    <div className=\"info\">\r\n                        <div onClick={() => {\r\n                            //PLACE NAME CLICKED EVENT\r\n                            showDialog(<DialogPlaceInfo id={placeInfo.id}/>)\r\n                        }}>\r\n                            <h4 className=\"inf-clickable\" onClick={() => {\r\n\r\n                            }}>{placeInfo.name}</h4>\r\n                            <span>{placeInfo.address}</span>\r\n                        </div>\r\n\r\n\r\n                        {/*<div>\r\n                            <h4>dyrekcja</h4>x\r\n                            <span>{`${placeInfo.directorFirstname} ${placeInfo.directorLastname} ${placeInfo.phoneNum}`}</span>\r\n                        </div>*/}\r\n\r\n\r\n                        <div onClick={() => {\r\n                            showDialog(<DialogInstructorInfo instructorId={placeInfo.instructor}/>)\r\n                        }}>\r\n                            <img src={`avatars/${instrInfo.avatar}`}/>\r\n                            {instrInfo == null ? null : <span\r\n                                className=\"inf-clickable\">{`${instrInfo.firstName} ${instrInfo.lastName} ${instrInfo.phoneNum}`}</span>}\r\n\r\n                        </div>\r\n\r\n\r\n                        <div>\r\n                            <img src=\"images/icons/calendar.png\"/>\r\n                            <span>dzien zajec{dzien(placeInfo.defaultClassWeekDay)}</span>\r\n                        </div>\r\n\r\n                        <div>\r\n                            <img src=\"images/icons/group.png\"/>\r\n                            <span>liczba osób w grupie</span>\r\n                        </div>\r\n\r\n\r\n                        <div>\r\n                            <img src=\"images/icons/draw.png\"/>\r\n                            <span>Imienne</span>\r\n                        </div>\r\n                        <div>\r\n                            <img src=\"images/icons/kindergarden-children-and-teacher.png\"/>\r\n                            <span>Imienne</span>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <PaymentsLegend/>\r\n                </div>\r\n                <div className=\"payments-menu\">\r\n                    <div className=\"payments-menu-editions\">\r\n                        <EditionsMenuBtn action={()=>{\r\n                            dodajGrupe()\r\n                        }}>dodaj grupę</EditionsMenuBtn>\r\n                        <EditionsMenuBtn action={()=>{\r\n                            const gr = this.state.selectedGroup\r\n                            if(gr == 0) {\r\n                                return\r\n                            }\r\n                            panelEdycjiGrupyById(gr)\r\n                        }}>edytuj grupę</EditionsMenuBtn>\r\n                        <EditionsMenuBtn action={()=>{\r\n                            dodajUczestnika()\r\n                        }}>dodaj uczestnika</EditionsMenuBtn>\r\n                        <EditionsMenuBtn action={()=>{\r\n                            const at = this.state.selectedAttender\r\n                            if(at == 0) {\r\n                                return\r\n                            }\r\n                            panelEdycjiUczestnikaById(at)\r\n                        }}>edytuj uczestnika</EditionsMenuBtn>\r\n                        <EditionsMenuBtn action={()=>{\r\n                            const at = this.state.selectedAttender\r\n                            if(at == 0) {\r\n                                return\r\n                            }\r\n                            modular.openWiadomosci(at)\r\n                        }}>konwersacja</EditionsMenuBtn>\r\n                        <EditionsMenuBtn action={()=>{\r\n                            const at = this.state.selectedAttender\r\n                            if(at == 0) {\r\n                                return\r\n                            }\r\n                            //modular.openAttenderPaymentManipulationDialog(at)\r\n                            //modular.sho\r\n                            //modular.dialogs.showDialog(modular.dialogs.types.OverdueAttenderPaymentsSMS,{})\r\n                            //modular.dialogs.list.attenderManipulatePayments(modular.selectors.attender)\r\n                            showDialog(<DialogAttenderManupulatePayments attenderId={modular.selectors.attender}/>)\r\n                        }}>rozliczenia</EditionsMenuBtn>\r\n                        <EditionsMenuBtn action={()=>{\r\n                            const at = this.state.selectedAttender\r\n                            if(at === 0) {\r\n                                return\r\n                            }\r\n                            showDialog(<DialogAttenderManupulateGroupChanges attenderId={modular.selectors.attender}/>)\r\n                        }}>przepisy</EditionsMenuBtn>\r\n                        {\r\n                            this.state.placeInfo.type == PlaceType.TYPE_PLACE ?\r\n                                <EditionsMenuBtn action={()=>{\r\n                                    historiaPlatnosciPlacowka(this.state.placeInfo['id'])\r\n                                }}>płatności placówki</EditionsMenuBtn>\r\n                                :\r\n                                <EditionsMenuBtn action={()=>{\r\n                                    const at = this.state.selectedAttender\r\n                                    if(at == 0) {\r\n                                        return\r\n                                    }\r\n                                    historiaPlatnosci(at)\r\n                                }}>płatności uczestnika</EditionsMenuBtn>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"payments-bot\">\r\n                <div>\r\n                    <table className=\"mega-table\">\r\n                        <tbody>\r\n                        {placeInfo.groups.map(({id})=><GroupAttendersInfoTableRows panel={this} groupId={id} key={\"payments_info_rows_\"+id}/>)}\r\n                        <GroupAttendersInfoTableRows panel={this} placeId={this.miejsceId} groupId={0} key={\"payments_info\"}/>\r\n                        </tbody>\r\n                    </table>\r\n                    <table className=\"mega-table\">\r\n                        <tbody>\r\n                        {\r\n                            placeType == PlaceType.TYPE_KIDS ?\r\n                                <>\r\n                                    {placeInfo.groups.map(({id})=><GroupAttendersPaymentsTableRows panel={this} groupId={id} key={\"payments_payments_rows_\"+id}/>)}\r\n                                    <GroupAttendersPaymentsTableRows panel={this} placeId={this.miejsceId} groupId={0} key={\"payments_payments_rows_wyp\"}/>\r\n                                </>\r\n                                :\r\n                            placeType == PlaceType.TYPE_ADULTS ?\r\n                                <>\r\n                                    {placeInfo.groups.map(({id})=><GroupAttendersPaymentsTableRowsAdults panel={this} groupId={id} key={\"payments_payments_rows_\"+id}/>)}\r\n                                    <GroupAttendersPaymentsTableRowsAdults panel={this} placeId={this.miejsceId} groupId={0} key={\"payments_payments_rows_wyp\"}/>\r\n                                </>\r\n                                :\r\n                            placeType == PlaceType.TYPE_PLACE ?\r\n                                <>\r\n                                    <GroupAttendersPaymentsTableRowsPlace miejsceId={this.miejsceId} key={\"payments_payments_rows_\"}/>\r\n                                    <GroupAttendersPaymentsTableRows placeId={this.miejsceId} groupId={0} key={\"payments_payments_rows_wyp\"}/>\r\n                                </>\r\n                                :null\r\n                        }\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\nmodular.program.panels.payments = PanelPlatnosci\r\n\r\nexport function EditionsMenuBtn(props) {\r\n    return <span className=\"editions-button\" onClick={props.action}>{props.children}</span>\r\n}\r\n\r\nfunction PaymentsLegend(props) {\r\n    return <div className=\"legenda\">\r\n        <div>\r\n            <div className=\"legendaKolor\" style={{backgroundColor: 'rgba(197,217,241,1)'}}></div>\r\n            <div className=\"legendaText\">Zapłacone</div>\r\n        </div>\r\n        <div>\r\n            <div className=\"legendaKolor\" style={{backgroundColor: 'rgba(177,160,199,1)'}}></div>\r\n            <div className=\"legendaText\">Płatność niepełna</div>\r\n        </div>\r\n        <div>\r\n            <div className=\"legendaKolor\" style={{backgroundColor: 'rgba(22,54,92,1)'}}></div>\r\n            <div className=\"legendaText\">Brak płatności</div>\r\n        </div>\r\n        <div>\r\n            <div className=\"legendaKolor\" style={{backgroundColor: 'blue'}}></div>\r\n            <div className=\"legendaText\">W tym miesiącu nie było żadnych zajęć</div>\r\n        </div>\r\n        <div>\r\n            <div className=\"legendaKolor\" style={{backgroundColor: 'orange'}}></div>\r\n            <div className=\"legendaText\">Interakcja</div>\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport function dzien(id) {\r\n    switch(id) {\r\n        case 0:\r\n            return \"poniedziałek\"\r\n        case 1:\r\n            return \"wtorek\"\r\n        case 2:\r\n            return \"środa\"\r\n        case 3:\r\n            return \"czwartek\"\r\n        case 4:\r\n            return \"piątek\"\r\n        case 5:\r\n            return \"sobota\"\r\n        case 6:\r\n            return \"niedziela\"\r\n    }\r\n}\r\n\r\nexport function miesiacF(id) {\r\n    switch(id) {\r\n        case 1:\r\n            return \"styczeń\"\r\n        case 2:\r\n            return \"luty\"\r\n        case 3:\r\n            return \"marzec\"\r\n        case 4:\r\n            return \"kwiecień\"\r\n        case 5:\r\n            return \"maj\"\r\n        case 6:\r\n            return \"czerwiec\"\r\n        case 7:\r\n            return \"lipiec\"\r\n        case 8:\r\n            return \"sierpień\"\r\n        case 9:\r\n            return \"wrzesień\"\r\n        case 10:\r\n            return \"październik\"\r\n        case 11:\r\n            return \"listopad\"\r\n        case 12:\r\n            return \"grudzień\"\r\n    }\r\n}\r\n\r\nfunction umowaf(id) {\r\n    switch(id) {\r\n        case 0:\r\n            return \"b\"\r\n        case 1:\r\n            return \"i\"\r\n        case 2:\r\n            return \"f\"\r\n        case 3:\r\n            return \"w\"\r\n    }\r\n}\r\n\r\nfunction beautifyPhoneNum(str) {\r\n    if(str == null) {\r\n        return null\r\n    }\r\n    if(str.length != 12) {\r\n        return str\r\n    }\r\n    return `${str.substring(0,3)} ${str.substring(3,6)}-${str.substring(6,9)}-${str.substring(9,12)}`\r\n}\r\nclass PaymentStatus {\r\n     static PAID = 0;\r\n     static PAID_PARTIALLY = 1;\r\n     static NOT_PAID = 2;\r\n     static NO_CLASSES = 3;\r\n     static NOT_YET_CHECKED = 4;\r\n }\r\n\r\nexport class PlaceType {\r\n    static TYPE_KIDS = 0\r\n    static TYPE_ADULTS = 2\r\n    static TYPE_PLACE = 1\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,SAAQA,UAAU,QAAO,aAAa;AACtC,SAAQC,gCAAgC,QAAO,0CAA0C;AACzF,SAAQC,oCAAoC,QAAO,4CAA4C;AAC/F,SAAQC,oBAAoB,QAAO,0BAA0B;AAC7D,SAAQC,eAAe,QAAO,qBAAqB;AAAC,SAAAC,GAAA,IAAAC,aAAA;AAEpD,OAAO,MAAMC,2BAA2B,SAASC,KAAK,CAACC,SAAS,CAAC;EAC7DC,KAAK,GAAG;IAACC,SAAS,EAAE,IAAI;IAAEC,KAAK,EAAE,IAAI;IAACC,WAAW,EAAC;EAAI,CAAC;EAEvDC,WAAWA,CAACC,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,EAAE,GAAGD,KAAK,CAACE,OAAO;IAEvB,MAAMC,MAAM,GAAIC,GAAG,IAAG;MAClBC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChB,IAAI,CAACG,QAAQ,CAAC;QAAC,GAAG,IAAI,CAACZ,KAAK;QAAEE,KAAK,EAAEO;MAAG,CAAC,CAAC;IAC9C,CAAC;IAGD,IAAG,IAAI,CAACH,EAAE,IAAI,CAAC,EAAE;MACb;MACAO,GAAG,CAAC,WAAW,IAAI,CAACR,KAAK,CAACS,OAAO,sBAAsB,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAK;QACnE,IAAI,CAACJ,QAAQ,CAAC;UACV,GAAG,IAAI,CAACZ,KAAK;UACbG,WAAW,EAAEa,GAAG;UAChBf,SAAS,EAAC;YAACgB,IAAI,EAAC,UAAU;YAACC,gBAAgB,EAAC,IAAI;YAACC,cAAc,EAAC;UAAI;QACxE,CAAC,CAAC;MACN,CAAC,CAAC,CAACC,KAAK,CAACZ,MAAM,CAAC;MAChB;IACJ,CAAC,MAAM,IAAG,IAAI,CAACF,EAAE,IAAI,CAAC,CAAC,EAAE;MACrB;MACAO,GAAG,CAAC,WAAW,IAAI,CAACR,KAAK,CAACS,OAAO,mBAAmB,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAK;QAChE,IAAI,CAACJ,QAAQ,CAAC;UACV,GAAG,IAAI,CAACZ,KAAK;UACbG,WAAW,EAAEa,GAAG;UAChBf,SAAS,EAAC;YAACgB,IAAI,EAAC,WAAW;YAACC,gBAAgB,EAAC,IAAI;YAACC,cAAc,EAAC;UAAI;QACzE,CAAC,CAAC;MACN,CAAC,CAAC,CAACC,KAAK,CAACZ,MAAM,CAAC;MAChB;IACJ;IAEAK,GAAG,CAAC,SAAS,IAAI,CAACP,EAAE,EAAE,CAAC,CAACS,IAAI,CAAEC,GAAG,IAAK;MAClC,IAAI,CAACJ,QAAQ,CAAC;QAAC,GAAG,IAAI,CAACZ,KAAK;QAAEC,SAAS,EAAEe;MAAG,CAAC,CAAC;MAC9CH,GAAG,CAAC,SAAS,IAAI,CAACP,EAAE,YAAY,CAAC,CAACS,IAAI,CAAEC,GAAG,IAAK;QAC5C,IAAI,CAACJ,QAAQ,CAAC;UAAC,GAAG,IAAI,CAACZ,KAAK;UAAEG,WAAW,EAAEa;QAAG,CAAC,CAAC;MACpD,CAAC,CAAC,CAACI,KAAK,CAACZ,MAAM,CAAC;IACpB,CAAC,CAAC,CAACY,KAAK,CAACZ,MAAM,CAAC;EACpB;EAEAa,MAAMA,CAAA,EAAG;IACL,IAAG,IAAI,CAACrB,KAAK,CAACE,KAAK,IAAI,IAAI,EAAE;MACzB,oBAAOJ,KAAA,CAAAwB,aAAA,0BAAIxB,KAAA,CAAAwB,aAAA,aAAI,QAAM,EAAC,IAAI,CAAChB,EAAE,EAAC,mBAAO,EAAC,IAAI,CAACN,KAAK,CAACE,KAAU,CAAK,CAAC;IACrE;IACA,IAAG,IAAI,CAACF,KAAK,CAACC,SAAS,IAAI,IAAI,EAAE;MAC7B,oBAAOH,KAAA,CAAAwB,aAAA,0BAAIxB,KAAA,CAAAwB,aAAA,WAAQ,CAAK,CAAC;MACzB;IACJ;IACA,IAAG,IAAI,CAACtB,KAAK,CAACG,WAAW,IAAI,IAAI,EAAE;MAC/B,oBAAOL,KAAA,CAAAwB,aAAA,0BAAIxB,KAAA,CAAAwB,aAAA,WAAQ,CAAK,CAAC;MACzB;IACJ;IACA,MAAMrB,SAAS,GAAG,IAAI,CAACD,KAAK,CAACC,SAAS;IACtC,MAAM;MAACsB,SAAS;MAACC,MAAM;MAACP,IAAI,EAACQ,SAAS;MAACP,gBAAgB;MAACC,cAAc;MAACO,UAAU;MAACC,kBAAkB;MAACC;IAAU,CAAC,GAAG3B,SAAS;IAG5H,MAAM4B,eAAe,GAAIxB,KAAK,IAAI;MAC9B,MAAMyB,UAAU,GAAGzB,KAAK,CAAC0B,KAAK,CAAC/B,KAAK,CAACgC,aAAa,KAAK3B,KAAK,CAACE,OAAO,IAC5DF,KAAK,CAAC0B,KAAK,CAAC/B,KAAK,CAACiC,cAAc,IAAI,IAAI,IAAI5B,KAAK,CAAC0B,KAAK,CAAC/B,KAAK,CAACiC,cAAc,CAACC,QAAQ,CAAC7B,KAAK,CAAC8B,UAAU,CAAE;MAEhH,oBAAOrC,KAAA,CAAAwB,aAAA;QAAIc,SAAS,EAAC,eAAe;QAACC,OAAO,EAAEA,CAAA,KAAI;UAC9C,IAAGhC,KAAK,CAAC0B,KAAK,CAAC/B,KAAK,CAACsC,iBAAiB,IAAI,IAAI,EAAE;YAC5C,IAAGjC,KAAK,CAAC0B,KAAK,CAAC/B,KAAK,CAACiC,cAAc,CAACC,QAAQ,CAAC7B,KAAK,CAACE,OAAO,CAAC,EAAE;cACzD,IAAI,CAACP,KAAK,CAACG,WAAW,CAACoC,OAAO,CAACC,GAAG,IAAE;gBAChCnC,KAAK,CAAC0B,KAAK,CAACU,mBAAmB,CAACD,GAAG,CAAClC,EAAE,EAAC,KAAK,CAAC;cACjD,CAAC,CAAC;cACFD,KAAK,CAAC0B,KAAK,CAACW,gBAAgB,CAACrC,KAAK,CAACE,OAAO,EAAC,KAAK,CAAC;YACrD,CAAC,MAAM;cACH,IAAI,CAACP,KAAK,CAACG,WAAW,CAACoC,OAAO,CAACC,GAAG,IAAE;gBAChCnC,KAAK,CAAC0B,KAAK,CAACU,mBAAmB,CAACD,GAAG,CAAClC,EAAE,EAAC,IAAI,CAAC;cAChD,CAAC,CAAC;cACFD,KAAK,CAAC0B,KAAK,CAACW,gBAAgB,CAACrC,KAAK,CAACE,OAAO,EAAC,IAAI,CAAC;YACpD;YACA;UACJ;UAGAF,KAAK,CAAC0B,KAAK,CAACW,gBAAgB,CAACrC,KAAK,CAACE,OAAO,CAAC;QAC/C;MAAE,GAAEuB,UAAU,GAAG,GAAG,GAAG,EAAO,CAAC;IACnC,CAAC;IAED,MAAMa,gBAAgB,GAAItC,KAAK,IAAI;MAE/B,MAAMuC,kBAAkB,GAAGvC,KAAK,CAAC0B,KAAK,CAAC/B,KAAK,CAAC6C,gBAAgB,KAAKxC,KAAK,CAAC8B,UAAU,IAC9E9B,KAAK,CAAC0B,KAAK,CAAC/B,KAAK,CAACsC,iBAAiB,IAAI,IAAI,IAAIjC,KAAK,CAAC0B,KAAK,CAAC/B,KAAK,CAACsC,iBAAiB,CAACJ,QAAQ,CAAC7B,KAAK,CAAC8B,UAAU,CAAE;MAIlH,oBAAOrC,KAAA,CAAAwB,aAAA;QAAIc,SAAS,EAAC,eAAe;QAACC,OAAO,EAAEA,CAAA,KAAI;UAC9C,IAAGhC,KAAK,CAAC0B,KAAK,CAAC/B,KAAK,CAACsC,iBAAiB,IAAI,IAAI,EAAE;YAC5CjC,KAAK,CAAC0B,KAAK,CAACU,mBAAmB,CAACpC,KAAK,CAAC8B,UAAU,EAAC,CAACS,kBAAkB,CAAC;YACrE;UACJ;UAGAvC,KAAK,CAAC0B,KAAK,CAACU,mBAAmB,CAACpC,KAAK,CAAC8B,UAAU,CAAC;QACrD;MAAE,GAAES,kBAAkB,GAAG,GAAG,GAAG,EAAO,CAAC;IAC3C,CAAC;IAED,MAAMzC,WAAW,GAAG,IAAI,CAACH,KAAK,CAACG,WAAW;IAC1C,MAAM2C,cAAc,GAAG3C,WAAW,CAAC4C,GAAG,CAAC,CAAC;MAACzC,EAAE;MAAC,kBAAkB0C,iBAAiB;MAAC,oBAAoBC,KAAK;MAACC,KAAK;MAACC,UAAU;MAACC,YAAY;MAACC;IAAU,CAAC,EAACC,GAAG,KAAG;MACtJ,MAAMC,aAAa,GAAG,IAAI,CAAClD,KAAK,CAAC0B,KAAK,CAAC/B,KAAK,CAAC6C,gBAAgB,IAAIvC,EAAE;MACnE,IAAIkD,KAAK,GAAG,CAAC,CAAC;MACd,MAAMC,MAAM,GAAGP,KAAK,IAAI,IAAI,GAAGA,KAAK,GAAG,OAAO;MAC9C,MAAMQ,OAAO,GAAGP,UAAU,IAAI,CAAC,GAAG,QAAQ,GAAGM,MAAM;MACnD,MAAME,QAAQ,GAAGV,KAAK,IAAI,CAAC,GAAG,KAAK,GAAGQ,MAAM;MAC5CD,KAAK,CAACI,eAAe,GAAG,6BAA6BF,OAAO,QAAQD,MAAM,SAASA,MAAM,QAAQE,QAAQ,OAAO;MAEhH,oBAAO7D,KAAA,CAAAwB,aAAA;QAAIkC,KAAK,EAAEA,KAAM;QAACK,GAAG,EAAE,yBAAyB,GAAG,IAAI,CAACvD,EAAE,GAAG,GAAG,GAAGgD,GAAI;QACnElB,SAAS,EAAE,WAAWmB,aAAa,GAAG,eAAe,GAAG,EAAE;MAAG,gBACpEzD,KAAA,CAAAwB,aAAA,aAAKgC,GAAG,GAAC,CAAM,CAAC,eAChBxD,KAAA,CAAAwB,aAAA,CAACqB,gBAAgB;QAACZ,KAAK,EAAE,IAAI,CAAC1B,KAAK,CAAC0B,KAAM;QAACI,UAAU,EAAE7B;MAAG,CAAC,CAAC,eAC5DR,KAAA,CAAAwB,aAAA,aAAK,GAAG8B,YAAY,CAACU,SAAS,IAAIV,YAAY,CAACW,QAAQ,EAAO,CAAC,eAC/DjE,KAAA,CAAAwB,aAAA,aAAK0B,iBAAsB,CAAC,eAC5BlD,KAAA,CAAAwB,aAAA,aAAK0C,gBAAgB,CAACX,UAAU,CAACY,MAAM,CAAM,CAAC,eAC9CnE,KAAA,CAAAwB,aAAA,aAAK4C,MAAM,CAACjB,KAAK,CAAM,CACvB,CAAC;IACT,CAAC,CAAC;IAEF,oBAAOnD,KAAA,CAAAwB,aAAA,CAAAxB,KAAA,CAAAqE,QAAA,qBACHrE,KAAA,CAAAwB,aAAA;MAAIuC,GAAG,EAAE,yBAAyB,GAAC,IAAI,CAACvD,EAAG;MAAC8B,SAAS,EAAC;IAAO,gBACzDtC,KAAA,CAAAwB,aAAA,WAAQ,CAAC,eACTxB,KAAA,CAAAwB,aAAA,WAAQ,CAAC,EAEL,IAAI,CAAChB,EAAE,IAAI,CAAC,IAAI,IAAI,CAACA,EAAE,IAAI,CAAC,gBACxBR,KAAA,CAAAwB,aAAA;MAAI8C,OAAO,EAAC;IAAG,GAAE,GAAG3C,SAAS,EAAO,CAAC,gBAErC3B,KAAA,CAAAwB,aAAA;MAAI8C,OAAO,EAAC;IAAG,GAAE,GAAG3C,SAAS,KAAKP,gBAAgB,MAAMC,cAAc,GAAQ,CAAC,eAEvFrB,KAAA,CAAAwB,aAAA,WAAQ,CACR,CAAC,eACLxB,KAAA,CAAAwB,aAAA;MAAIuC,GAAG,EAAE,yBAAyB,GAAC,IAAI,CAACvD,EAAG;MAAC8B,SAAS,EAAC;IAAO,gBACzDtC,KAAA,CAAAwB,aAAA,aAAI,IAAM,CAAC,eACXxB,KAAA,CAAAwB,aAAA,CAACO,eAAe;MAACE,KAAK,EAAE,IAAI,CAAC1B,KAAK,CAAC0B,KAAM;MAACxB,OAAO,EAAE,IAAI,CAACD;IAAG,CAAC,CAAC,eAC7DR,KAAA,CAAAwB,aAAA,aAAI,sBAAmB,CAAC,eACxBxB,KAAA,CAAAwB,aAAA,aAAI,oBAAsB,CAAC,eAC3BxB,KAAA,CAAAwB,aAAA,aAAI,QAAU,CAAC,eACfxB,KAAA,CAAAwB,aAAA,aAAI,GAAK,CACT,CAAC,EACJwB,cACH,CAAC;EACP;AACJ;AACA,MAAMuB,+BAA+B,SAASvE,KAAK,CAACC,SAAS,CAAC;EAC1DC,KAAK,GAAG;IAACC,SAAS,EAAE,IAAI;IAAEC,KAAK,EAAE,IAAI;IAAEC,WAAW,EAAC,IAAI;IAAEmE,uBAAuB,EAAE,IAAI;IAAEC,mBAAmB,EAAE,IAAI;IAAEC,UAAU,EAAE;EAAI,CAAC;EAEpIpE,WAAWA,CAACC,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,EAAE,GAAGD,KAAK,CAACE,OAAO;IAEvB,MAAMC,MAAM,GAAIC,GAAG,IAAG;MAClBC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChB,IAAI,CAACG,QAAQ,CAAC;QAAC,GAAG,IAAI,CAACZ,KAAK;QAAEE,KAAK,EAAEO;MAAG,CAAC,CAAC;IAC9C,CAAC;IAED,IAAG,IAAI,CAACH,EAAE,IAAI,CAAC,IAAI,IAAI,CAACA,EAAE,IAAI,CAAC,EAAE;MAC7B;MACAO,GAAG,CAAC,WAAW,IAAI,CAACR,KAAK,CAACS,OAAO,sBAAsB,CAAC,CAACC,IAAI,CAAE0D,MAAM,IAAK;QACtE,IAAI,CAAC7D,QAAQ,CAAC;UACV,GAAG,IAAI,CAACZ,KAAK;UACbG,WAAW,EAAEsE,MAAM;UACnBxE,SAAS,EAAC;YAACyE,KAAK,EAAC;UAAU;QAC/B,CAAC,CAAC;QAEF,MAAMC,aAAa,GAAGA,CAACC,KAAK,GAAG,CAAC,KAAI;UAChC,MAAMC,QAAQ,GAAGJ,MAAM,CAACG,KAAK,CAAC;UAC9B,IAAGC,QAAQ,IAAI,IAAI,EAAE;YACjB;UACJ;UAEAhE,GAAG,CAAC,cAAcgE,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC9D,IAAI,CAAEC,GAAG,IAAK;YACvD,IAAI,CAACJ,QAAQ,CAAEZ,KAAK,IAAG;cACnBA,KAAK,CAACG,WAAW,CAACyE,KAAK,CAAC,CAAC,UAAU,CAAC,GAAG5D,GAAG;cAC1C,OAAOhB,KAAK;YAChB,CAAC,CAAC;YACF2E,aAAa,CAACC,KAAK,GAAC,CAAC,CAAC;UAC1B,CAAC,CAAC,CAACxD,KAAK,CAACZ,MAAM,CAAC;QACpB,CAAC;QACDmE,aAAa,CAAC,CAAC;MACnB,CAAC,CAAC,CAACvD,KAAK,CAACZ,MAAM,CAAC;MAEhBK,GAAG,CAAC,WAAW,IAAI,CAACR,KAAK,CAACS,OAAO,SAAS,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAK;QACtD,IAAI,CAACJ,QAAQ,CAAEZ,KAAK,IAAG;UACnB,OAAO;YAAC,GAAGA,KAAK;YAAEwE,UAAU,EAAExD;UAAG,CAAC;QACtC,CAAC,CAAC;MACN,CAAC,CAAC,CAACI,KAAK,CAACZ,MAAM,CAAC;IACpB,CAAC,MAAM;MACH;MACAK,GAAG,CAAC,SAAS,IAAI,CAACP,EAAE,EAAE,CAAC,CAACS,IAAI,CAAEC,GAAG,IAAK;QAClC,IAAI,CAACJ,QAAQ,CAAEZ,KAAK,IAAG;UACnB,OAAO;YAAC,GAAGA,KAAK;YAAEC,SAAS,EAAEe;UAAG,CAAC;QACrC,CAAC,CAAC;QAEF8D,UAAU,CAAC,MAAI;UACXjE,GAAG,CAAC,SAAS,IAAI,CAACP,EAAE,YAAY,CAAC,CAACS,IAAI,CAAE0D,MAAM,IAAK;YAC/C,IAAI,CAAC7D,QAAQ,CAAC;cAAC,GAAG,IAAI,CAACZ,KAAK;cAAEG,WAAW,EAAEsE;YAAM,CAAC,CAAC;YACnD,MAAME,aAAa,GAAGA,CAACC,KAAK,GAAG,CAAC,KAAI;cAChC,MAAMC,QAAQ,GAAGJ,MAAM,CAACG,KAAK,CAAC;cAC9B,IAAGC,QAAQ,IAAI,IAAI,EAAE;gBACjB;cACJ;cAEAhE,GAAG,CAAC,cAAcgE,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC9D,IAAI,CAAEC,GAAG,IAAK;gBACvD,IAAI,CAACJ,QAAQ,CAAEZ,KAAK,IAAG;kBACnBA,KAAK,CAACG,WAAW,CAACyE,KAAK,CAAC,CAAC,UAAU,CAAC,GAAG5D,GAAG;kBAC1C,OAAOhB,KAAK;gBAChB,CAAC,CAAC;gBACF2E,aAAa,CAACC,KAAK,GAAC,CAAC,CAAC;cAC1B,CAAC,CAAC,CAACxD,KAAK,CAACZ,MAAM,CAAC;YACpB,CAAC;YACDmE,aAAa,CAAC,CAAC;UAEnB,CAAC,CAAC,CAACvD,KAAK,CAACZ,MAAM,CAAC;QACpB,CAAC,EAAC,GAAG,CAAC;MACV,CAAC,CAAC,CAACY,KAAK,CAACZ,MAAM,CAAC;MAEhBK,GAAG,CAAC,SAAS,IAAI,CAACP,EAAE,cAAc,CAAC,CAACS,IAAI,CAAEC,GAAG,IAAK;QAC9C,IAAI,CAACJ,QAAQ,CAAEZ,KAAK,IAAG;UACnB,OAAO;YAAC,GAAGA,KAAK;YAAEsE,uBAAuB,EAAEtD;UAAG,CAAC;QACnD,CAAC,CAAC;MACN,CAAC,CAAC,CAACI,KAAK,CAACZ,MAAM,CAAC;MAEhBK,GAAG,CAAC,SAAS,IAAI,CAACP,EAAE,SAAS,CAAC,CAACS,IAAI,CAAEC,GAAG,IAAK;QACzC,IAAI,CAACJ,QAAQ,CAAEZ,KAAK,IAAG;UACnB,OAAO;YAAC,GAAGA,KAAK;YAAEwE,UAAU,EAAExD;UAAG,CAAC;QACtC,CAAC,CAAC;MACN,CAAC,CAAC,CAACI,KAAK,CAACZ,MAAM,CAAC;IACpB;EACJ;EAEAa,MAAMA,CAAA,EAAG;IACL,IAAG,IAAI,CAACrB,KAAK,CAACE,KAAK,IAAI,IAAI,EAAE;MACzB,oBAAOJ,KAAA,CAAAwB,aAAA,0BAAIxB,KAAA,CAAAwB,aAAA,aAAI,kBAAM,EAAC,IAAI,CAACtB,KAAK,CAACE,KAAK,CAAC6E,IAAS,CAAK,CAAC;IAC1D;IACA,IAAG,IAAI,CAAC/E,KAAK,CAACC,SAAS,IAAI,IAAI,EAAE;MAC7B,oBAAOH,KAAA,CAAAwB,aAAA,0BAAIxB,KAAA,CAAAwB,aAAA,WAAQ,CAAK,CAAC;MACzB;IACJ;IACA,IAAG,IAAI,CAACtB,KAAK,CAACG,WAAW,IAAI,IAAI,EAAE;MAC/B,oBAAOL,KAAA,CAAAwB,aAAA,0BAAIxB,KAAA,CAAAwB,aAAA,WAAQ,CAAK,CAAC;MACzB;IACJ;IACA,IAAG,IAAI,CAACtB,KAAK,CAACwE,UAAU,IAAI,IAAI,EAAE;MAC9B,oBAAO1E,KAAA,CAAAwB,aAAA,0BAAIxB,KAAA,CAAAwB,aAAA,WAAQ,CAAK,CAAC;MACzB;IACJ;IACA;AACR;AACA;;IAEQ,MAAM0D,aAAa,GAAGC,QAAQ,CAAC,IAAI,CAACjF,KAAK,CAACwE,UAAU,CAAC,WAAW,CAAC,CAACU,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAChF,MAAMC,sBAAsB,GAAIC,KAAK,IAAK;MACtC,KAAI,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,EAAE,EAAEA,CAAC,EAAE,EAAE;QACxB,MAAMC,QAAQ,GAAG,CAACN,aAAa,GAAC,CAAC,GAACK,CAAC,IAAE,EAAE,GAAC,CAAC;QACzCD,KAAK,CAACE,QAAQ,CAAC;MACnB;IACJ,CAAC;IAED,MAAMC,aAAa,GAAG,EAAE;IACxB,MAAMC,cAAc,GAAG,EAAE;IACzB,MAAMC,eAAe,GAAG,EAAE;IAE1B,MAAMC,KAAK,GAAGA,CAACC,GAAG,EAACC,EAAE,KAAG;MACpBL,aAAa,CAACM,IAAI,eAAC/F,KAAA,CAAAwB,aAAA;QAAIuC,GAAG,EAAE,MAAM,GAAC8B;MAAI,GAAEG,QAAQ,CAACH,GAAG,CAAM,CAAC,CAAC;MAC7DH,cAAc,CAACK,IAAI,eAAC/F,KAAA,CAAAwB,aAAA;QAAIuC,GAAG,EAAE,MAAM,GAAC8B;MAAI,GAAEC,EAAO,CAAC,CAAC;IACvD,CAAC;IAEDT,sBAAsB,CAAEQ,GAAG,IAAG;MAC1B,IAAG,IAAI,CAAC3F,KAAK,CAACsE,uBAAuB,IAAI,IAAI,EAAE;QAC3CoB,KAAK,CAACC,GAAG,EAAC,IAAI,CAAC;QACf;MACJ;MACA,MAAMI,KAAK,GAAG,IAAI,CAAC/F,KAAK,CAACsE,uBAAuB,CAACqB,GAAG,CAAC;MACrD,IAAGI,KAAK,IAAI,CAAC,EAAE;QACXN,eAAe,CAACI,IAAI,CAACF,GAAG,CAAC;QACzB;MACJ;MACAD,KAAK,CAACC,GAAG,EAACI,KAAK,CAAC;IACpB,CAAC,CAAC;IAEF,MAAM9F,SAAS,GAAG,IAAI,CAACD,KAAK,CAACC,SAAS;IACtC,MAAM;MAACsB,SAAS;MAACC,MAAM;MAACkD,KAAK;MAACsB,cAAc;MAACC,cAAc;MAACvE,UAAU;MAACC,kBAAkB;MAACC;IAAU,CAAC,GAAG3B,SAAS;IAEjH,MAAMiG,CAAC,GAAG,IAAIC,IAAI,CAAC,CAAC;IACpB;;IAEA,MAAMhG,WAAW,GAAG,IAAI,CAACH,KAAK,CAACG,WAAW;IAC1C,MAAMiG,aAAa,GAAGjG,WAAW,CAAC4C,GAAG,CAAC,CAACsD,CAAC,EAAC/C,GAAG,KAAG;MAC3C,MAAM;QAAChD,EAAE;QAACgG,IAAI;QAACC,QAAQ;QAACvD,iBAAiB;QAACwD,eAAe;QAACvD,KAAK;QAACwD;MAAQ,CAAC,GAAGJ,CAAC;MAE7E,IAAGI,QAAQ,IAAI,IAAI,EAAE;QACjB,oBAAO3G,KAAA,CAAAwB,aAAA;UAAIuC,GAAG,EAAE,yBAAyB,GAAC,IAAI,CAACvD,EAAE,GAAC,GAAG,GAACgD;QAAI,gBAACxD,KAAA,CAAAwB,aAAA,aAAI,KAAO,CAAK,CAAC;MAChF;MACA,MAAMoF,aAAa,GAAG,EAAE;MACxB,MAAMC,GAAG,GAAIC,QAAQ,IAAG;QACpB,MAAM;UAACC,MAAM;UAACC,UAAU;UAACC,WAAW;UAACC;QAAM,CAAC,GAAGP,QAAQ,CAACG,QAAQ,CAAC;QACjE,IAAGC,MAAM,IAAII,aAAa,CAACC,UAAU,EAAE;UACnC,oBAAOpH,KAAA,CAAAwB,aAAA;YAAIuC,GAAG,EAAE+C,QAAS;YAACxE,SAAS,EAAC;UAAyB,CAAK,CAAC;QACvE,CAAC,MAAM,IAAGyE,MAAM,IAAII,aAAa,CAACE,QAAQ,EAAE;UACxC,oBAAOrH,KAAA,CAAAwB,aAAA;YAAIuC,GAAG,EAAE+C,QAAS;YAACxE,SAAS,EAAC;UAAuB,GAAC,IAAE,EAAC2E,WAAgB,CAAC;QACpF,CAAC,MAAM,IAAGF,MAAM,IAAII,aAAa,CAACG,cAAc,EAAE;UAC9C,oBAAOtH,KAAA,CAAAwB,aAAA;YAAIuC,GAAG,EAAE+C,QAAS;YAACxE,SAAS,EAAC;UAA6B,GAAE0E,UAAU,EAAC,GAAC,EAACC,WAAgB,CAAC;QACrG,CAAC,MAAM,IAAGF,MAAM,IAAII,aAAa,CAACI,IAAI,EAAE;UACpC,oBAAOvH,KAAA,CAAAwB,aAAA;YAAIuC,GAAG,EAAE+C,QAAS;YAACxE,SAAS,EAAE,oBAAoB,IAAE4E,MAAM,GAAG,uBAAuB,GAAG,EAAE;UAAE,GAAEF,UAAe,CAAC;QACxH,CAAC,MAAM,IAAGD,MAAM,IAAII,aAAa,CAACK,eAAe,EAAE;UAC/C,oBAAOxH,KAAA,CAAAwB,aAAA;YAAIuC,GAAG,EAAE+C,QAAS;YAACxE,SAAS,EAAC;UAA0B,GAAG0E,UAAU,IAAI,CAAC,GAAG,EAAE,GAAIA,UAAU,IAAIC,WAAW,GAAGD,UAAU,GAAGA,UAAU,GAAC,GAAG,GAACC,WAAkB,CAAC;QACxK;MACJ,CAAC;MAED5B,sBAAsB,CAAEQ,GAAG,IAAG;QAC1B,IAAGF,eAAe,CAACvD,QAAQ,CAACyD,GAAG,CAAC,EAAE;UAC9B;QACJ;QACAe,aAAa,CAACb,IAAI,CAACc,GAAG,CAAChB,GAAG,CAAC,CAAC;MAChC,CAAC,CAAC;MAEF,MAAMpC,aAAa,GAAG,IAAI,CAAClD,KAAK,CAAC0B,KAAK,CAAC/B,KAAK,CAAC6C,gBAAgB,IAAIvC,EAAE;MACnE,oBAAOR,KAAA,CAAAwB,aAAA;QAAIuC,GAAG,EAAE,yBAAyB,GAAC,IAAI,CAACvD,EAAE,GAAC,GAAG,GAACgD,GAAI;QAAClB,SAAS,EAAE,gBAAgBmB,aAAa,GAAG,eAAe,GAAC,EAAE;MAAG,GACtHmD,aACD,CAAC;IACT,CAAC,CAAC;IAEF,oBAAO5G,KAAA,CAAAwB,aAAA,CAAAxB,KAAA,CAAAqE,QAAA,qBACHrE,KAAA,CAAAwB,aAAA;MAAIuC,GAAG,EAAE,qBAAqB,GAAC,IAAI,CAACvD,EAAG;MAAC8B,SAAS,EAAC;IAAO,GACpDmD,aACD,CAAC,eACLzF,KAAA,CAAAwB,aAAA;MAAIuC,GAAG,EAAE,qBAAqB,GAAC,IAAI,CAACvD,EAAG;MAAC8B,SAAS,EAAC;IAAO,GACpDoD,cACD,CAAC,EACJY,aACH,CAAC;EACP;AACJ;AACA,MAAMmB,qCAAqC,SAASzH,KAAK,CAACC,SAAS,CAAC;EAChEC,KAAK,GAAG;IAACC,SAAS,EAAE,IAAI;IAAEC,KAAK,EAAE,IAAI;IAAEC,WAAW,EAAC,IAAI;IAAEmE,uBAAuB,EAAE,IAAI;IAAEC,mBAAmB,EAAE,IAAI;IAAEC,UAAU,EAAE;EAAI,CAAC;EAEpIpE,WAAWA,CAACC,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,EAAE,GAAGD,KAAK,CAACE,OAAO;IAEvB,MAAMC,MAAM,GAAIC,GAAG,IAAG;MAClBC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChB,IAAI,CAACG,QAAQ,CAAC;QAAC,GAAG,IAAI,CAACZ,KAAK;QAAEE,KAAK,EAAEO;MAAG,CAAC,CAAC;IAC9C,CAAC;IAED,IAAG,IAAI,CAACH,EAAE,IAAI,CAAC,IAAI,IAAI,CAACA,EAAE,IAAI,CAAC,EAAE;MAC7B;MACAO,GAAG,CAAC,WAAW,IAAI,CAACR,KAAK,CAACS,OAAO,sBAAsB,CAAC,CAACC,IAAI,CAAE0D,MAAM,IAAK;QACtE,IAAI,CAAC7D,QAAQ,CAAC;UACV,GAAG,IAAI,CAACZ,KAAK;UACbG,WAAW,EAAEsE,MAAM;UACnBxE,SAAS,EAAC;YACNyE,KAAK,EAAC,UAAU;YAChBsB,cAAc,EAAC,IAAI;YACnBC,cAAc,EAAC;UACnB;QACJ,CAAC,CAAC;QAEF,MAAMtB,aAAa,GAAGA,CAACC,KAAK,GAAG,CAAC,KAAI;UAChC,MAAMC,QAAQ,GAAGJ,MAAM,CAACG,KAAK,CAAC;UAC9B,IAAGC,QAAQ,IAAI,IAAI,EAAE;YACjB;UACJ;UAEAhE,GAAG,CAAC,cAAcgE,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC9D,IAAI,CAAEC,GAAG,IAAK;YACvD,IAAI,CAACJ,QAAQ,CAAEZ,KAAK,IAAG;cACnBA,KAAK,CAACG,WAAW,CAACyE,KAAK,CAAC,CAAC,UAAU,CAAC,GAAG5D,GAAG;cAC1C,OAAOhB,KAAK;YAChB,CAAC,CAAC;YACF2E,aAAa,CAACC,KAAK,GAAC,CAAC,CAAC;UAC1B,CAAC,CAAC,CAACxD,KAAK,CAACZ,MAAM,CAAC;QACpB,CAAC;QACDmE,aAAa,CAAC,CAAC;MACnB,CAAC,CAAC,CAACvD,KAAK,CAACZ,MAAM,CAAC;MAEhBK,GAAG,CAAC,WAAW,IAAI,CAACR,KAAK,CAACS,OAAO,SAAS,CAAC,CAACC,IAAI,CAAEC,GAAG,IAAK;QACtD,IAAI,CAACJ,QAAQ,CAAEZ,KAAK,IAAG;UACnB,OAAO;YAAC,GAAGA,KAAK;YAAEwE,UAAU,EAAExD;UAAG,CAAC;QACtC,CAAC,CAAC;MACN,CAAC,CAAC,CAACI,KAAK,CAACZ,MAAM,CAAC;IACpB,CAAC,MAAM;MACHK,GAAG,CAAC,SAAS,IAAI,CAACP,EAAE,EAAE,CAAC,CAACS,IAAI,CAAEC,GAAG,IAAK;QAClC,IAAI,CAACJ,QAAQ,CAAEZ,KAAK,IAAG;UACnB,OAAO;YAAC,GAAGA,KAAK;YAAEC,SAAS,EAAEe;UAAG,CAAC;QACrC,CAAC,CAAC;QAEF8D,UAAU,CAAC,MAAI;UACXjE,GAAG,CAAC,SAAS,IAAI,CAACP,EAAE,YAAY,CAAC,CAACS,IAAI,CAAE0D,MAAM,IAAK;YAC/C,IAAI,CAAC7D,QAAQ,CAAC;cAAC,GAAG,IAAI,CAACZ,KAAK;cAAEG,WAAW,EAAEsE;YAAM,CAAC,CAAC;YACnD,MAAME,aAAa,GAAGA,CAACC,KAAK,GAAG,CAAC,KAAI;cAChC,MAAMC,QAAQ,GAAGJ,MAAM,CAACG,KAAK,CAAC;cAC9B,IAAGC,QAAQ,IAAI,IAAI,EAAE;gBACjB;cACJ;cAEAhE,GAAG,CAAC,cAAcgE,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC9D,IAAI,CAAEC,GAAG,IAAK;gBACvD,IAAI,CAACJ,QAAQ,CAAEZ,KAAK,IAAG;kBACnBA,KAAK,CAACG,WAAW,CAACyE,KAAK,CAAC,CAAC,UAAU,CAAC,GAAG5D,GAAG;kBAC1C,OAAOhB,KAAK;gBAChB,CAAC,CAAC;gBACF2E,aAAa,CAACC,KAAK,GAAC,CAAC,CAAC;cAC1B,CAAC,CAAC,CAACxD,KAAK,CAACZ,MAAM,CAAC;YACpB,CAAC;YACDmE,aAAa,CAAC,CAAC;UAEnB,CAAC,CAAC,CAACvD,KAAK,CAACZ,MAAM,CAAC;QACpB,CAAC,EAAC,GAAG,CAAC;MACV,CAAC,CAAC,CAACY,KAAK,CAACZ,MAAM,CAAC;MAEhBK,GAAG,CAAC,SAAS,IAAI,CAACP,EAAE,cAAc,CAAC,CAACS,IAAI,CAAEC,GAAG,IAAK;QAC9C,IAAI,CAACJ,QAAQ,CAAEZ,KAAK,IAAG;UACnB,OAAO;YAAC,GAAGA,KAAK;YAAEsE,uBAAuB,EAAEtD;UAAG,CAAC;QACnD,CAAC,CAAC;MACN,CAAC,CAAC,CAACI,KAAK,CAACZ,MAAM,CAAC;MAEhBK,GAAG,CAAC,SAAS,IAAI,CAACP,EAAE,SAAS,CAAC,CAACS,IAAI,CAAEC,GAAG,IAAK;QACzC,IAAI,CAACJ,QAAQ,CAAEZ,KAAK,IAAG;UACnB,OAAO;YAAC,GAAGA,KAAK;YAAEwE,UAAU,EAAExD;UAAG,CAAC;QACtC,CAAC,CAAC;MACN,CAAC,CAAC,CAACI,KAAK,CAACZ,MAAM,CAAC;IACpB;EACJ;EAEAa,MAAMA,CAAA,EAAG;IACL,IAAG,IAAI,CAACrB,KAAK,CAACE,KAAK,IAAI,IAAI,EAAE;MACzB,oBAAOJ,KAAA,CAAAwB,aAAA,0BAAIxB,KAAA,CAAAwB,aAAA,aAAI,kBAAM,EAAC,IAAI,CAACtB,KAAK,CAACE,KAAK,CAAC6E,IAAS,CAAK,CAAC;IAC1D;IACA,IAAG,IAAI,CAAC/E,KAAK,CAACC,SAAS,IAAI,IAAI,EAAE;MAC7B,oBAAOH,KAAA,CAAAwB,aAAA,0BAAIxB,KAAA,CAAAwB,aAAA,WAAQ,CAAK,CAAC;MACzB;IACJ;IACA,IAAG,IAAI,CAACtB,KAAK,CAACG,WAAW,IAAI,IAAI,EAAE;MAC/B,oBAAOL,KAAA,CAAAwB,aAAA,0BAAIxB,KAAA,CAAAwB,aAAA,WAAQ,CAAK,CAAC;MACzB;IACJ;IACA,IAAG,IAAI,CAACtB,KAAK,CAACwE,UAAU,IAAI,IAAI,EAAE;MAC9B,oBAAO1E,KAAA,CAAAwB,aAAA,0BAAIxB,KAAA,CAAAwB,aAAA,WAAQ,CAAK,CAAC;MACzB;IACJ;IACA,IAAG,IAAI,CAACtB,KAAK,CAACsE,uBAAuB,IAAI,IAAI,EAAE;MAC3C,oBAAOxE,KAAA,CAAAwB,aAAA,0BAAIxB,KAAA,CAAAwB,aAAA,WAAQ,CAAK,CAAC;MACzB;IACJ;IAEA,MAAM0D,aAAa,GAAGC,QAAQ,CAAC,IAAI,CAACjF,KAAK,CAACwE,UAAU,CAAC,WAAW,CAAC,CAACU,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAEhF,MAAMK,aAAa,GAAG,EAAE;IACxB,MAAMC,cAAc,GAAG,EAAE;IACzB,MAAMC,eAAe,GAAG,EAAE;IAE1B,MAAM+B,YAAY,GAAGC,IAAI,CAACC,GAAG,CAAC,GAAGC,MAAM,CAACC,IAAI,CAAC,IAAI,CAAC5H,KAAK,CAACsE,uBAAuB,CAAC,CAACvB,GAAG,CAAC8E,CAAC,IAAI5C,QAAQ,CAAC4C,CAAC,CAAC,CAAC,CAAC;IAEvG,KAAI,IAAIxC,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAImC,YAAY,EAAEnC,CAAC,EAAE,EAAE;MACnC,MAAMU,KAAK,GAAG,IAAI,CAAC/F,KAAK,CAACsE,uBAAuB,CAACe,CAAC,CAAC;MACnD,IAAGU,KAAK,IAAI,CAAC,EAAE;QACXN,eAAe,CAACI,IAAI,CAACR,CAAC,CAAC;QACvB;MACJ;MACAE,aAAa,CAACM,IAAI,eAAC/F,KAAA,CAAAwB,aAAA;QAAIuC,GAAG,EAAE,MAAM,GAACwB;MAAE,GAAC,OAAK,EAACA,CAAM,CAAC,CAAC;MACpDG,cAAc,CAACK,IAAI,eAAC/F,KAAA,CAAAwB,aAAA;QAAIuC,GAAG,EAAE,MAAM,GAACwB;MAAE,GAAEU,KAAU,CAAC,CAAC;IACxD;IAEA,MAAM9F,SAAS,GAAG,IAAI,CAACD,KAAK,CAACC,SAAS;IACtC,MAAM;MAACsB,SAAS;MAACC,MAAM;MAACkD,KAAK;MAACsB,cAAc;MAACC,cAAc;MAACvE,UAAU;MAACC,kBAAkB;MAACC;IAAU,CAAC,GAAG3B,SAAS;IAEjH,MAAME,WAAW,GAAG,IAAI,CAACH,KAAK,CAACG,WAAW;IAC1C,MAAMiG,aAAa,GAAGjG,WAAW,CAAC4C,GAAG,CAAC,CAACsD,CAAC,EAAC/C,GAAG,KAAG;MAC3C,MAAM;QAAChD,EAAE;QAACgG,IAAI;QAACC,QAAQ;QAACvD,iBAAiB;QAACwD,eAAe;QAACvD,KAAK;QAACwD;MAAQ,CAAC,GAAGJ,CAAC;MAE7E,IAAGI,QAAQ,IAAI,IAAI,EAAE;QACjB,oBAAO3G,KAAA,CAAAwB,aAAA;UAAIuC,GAAG,EAAE,yBAAyB,GAAC,IAAI,CAACvD,EAAE,GAAC,GAAG,GAACgD;QAAI,gBAACxD,KAAA,CAAAwB,aAAA,aAAI,KAAO,CAAK,CAAC;MAChF;MACA,MAAMoF,aAAa,GAAG,EAAE;MACxB,MAAMC,GAAG,GAAIC,QAAQ,IAAG;QACpB,MAAM;UAACC,MAAM;UAACC,UAAU;UAACC,WAAW;UAACC;QAAM,CAAC,GAAGP,QAAQ,CAACG,QAAQ,CAAC;QACjE,IAAGC,MAAM,IAAII,aAAa,CAACC,UAAU,EAAE;UACnC,oBAAOpH,KAAA,CAAAwB,aAAA;YAAIuC,GAAG,EAAE+C,QAAS;YAACxE,SAAS,EAAC;UAAyB,CAAK,CAAC;QACvE,CAAC,MAAM,IAAGyE,MAAM,IAAII,aAAa,CAACE,QAAQ,EAAE;UACxC,oBAAOrH,KAAA,CAAAwB,aAAA;YAAIuC,GAAG,EAAE+C,QAAS;YAACxE,SAAS,EAAC;UAAuB,GAAC,IAAE,EAAC2E,WAAgB,CAAC;QACpF,CAAC,MAAM,IAAGF,MAAM,IAAII,aAAa,CAACG,cAAc,EAAE;UAC9C,oBAAOtH,KAAA,CAAAwB,aAAA;YAAIuC,GAAG,EAAE+C,QAAS;YAACxE,SAAS,EAAC;UAA6B,GAAE0E,UAAU,EAAC,GAAC,EAACC,WAAgB,CAAC;QACrG,CAAC,MAAM,IAAGF,MAAM,IAAII,aAAa,CAACI,IAAI,EAAE;UACpC,oBAAOvH,KAAA,CAAAwB,aAAA;YAAIuC,GAAG,EAAE+C,QAAS;YAACxE,SAAS,EAAE,oBAAoB,IAAE4E,MAAM,GAAG,uBAAuB,GAAG,EAAE;UAAE,GAAEF,UAAe,CAAC;QACxH,CAAC,MAAM,IAAGD,MAAM,IAAII,aAAa,CAACK,eAAe,EAAE;UAC/C,oBAAOxH,KAAA,CAAAwB,aAAA;YAAIuC,GAAG,EAAE+C,QAAS;YAACxE,SAAS,EAAC;UAA0B,GAAE0E,UAAU,IAAI,CAAC,GAAG,EAAE,GAAGA,UAAe,CAAC;QAC3G;MACJ,CAAC;MAED,KAAI,IAAIzB,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAImC,YAAY,EAAEnC,CAAC,EAAE,EAAE;QACnC,IAAGI,eAAe,CAACvD,QAAQ,CAACmD,CAAC,CAAC,EAAE;UAC5B;QACJ;QACAqB,aAAa,CAACb,IAAI,CAACc,GAAG,CAACtB,CAAC,CAAC,CAAC;MAC9B;MAEA,MAAM9B,aAAa,GAAG,IAAI,CAAClD,KAAK,CAAC0B,KAAK,CAAC/B,KAAK,CAAC6C,gBAAgB,IAAIvC,EAAE;MACnE,oBAAOR,KAAA,CAAAwB,aAAA;QAAIuC,GAAG,EAAE,yBAAyB,GAAC,IAAI,CAACvD,EAAE,GAAC,GAAG,GAACgD,GAAI;QAAClB,SAAS,EAAE,gBAAgBmB,aAAa,GAAC,eAAe,GAAC,EAAE;MAAG,GACpHmD,aACD,CAAC;IACT,CAAC,CAAC;IAEF,oBAAO5G,KAAA,CAAAwB,aAAA,CAAAxB,KAAA,CAAAqE,QAAA,qBACHrE,KAAA,CAAAwB,aAAA;MAAIuC,GAAG,EAAE,qBAAqB,GAAC,IAAI,CAACvD,EAAG;MAAC8B,SAAS,EAAC;IAAO,GACpDmD,aACD,CAAC,eACLzF,KAAA,CAAAwB,aAAA;MAAIuC,GAAG,EAAE,qBAAqB,GAAC,IAAI,CAACvD,EAAG;MAAC8B,SAAS,EAAC;IAAO,GACpDoD,cACD,CAAC,EACJY,aACH,CAAC;EACP;AACJ;AACA,MAAM0B,oCAAoC,SAAShI,KAAK,CAACC,SAAS,CAAC;EAC/DC,KAAK,GAAG;IAACC,SAAS,EAAE,IAAI;IAAEC,KAAK,EAAE,IAAI;IAAEuG,QAAQ,EAAE,IAAI;IAAEnC,uBAAuB,EAAE,IAAI;IAAEC,mBAAmB,EAAE,IAAI;IAAEC,UAAU,EAAE;EAAI,CAAC;EAElIpE,WAAWA,CAACC,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,EAAE,GAAGD,KAAK,CAAC0H,SAAS;IAEzBlH,GAAG,CAAC,WAAW,IAAI,CAACP,EAAE,WAAW,CAAC,CAACS,IAAI,CAAEC,GAAG,IAAK;MAC7C,IAAI,CAACJ,QAAQ,CAAEZ,KAAK,IAAG;QACnBA,KAAK,CAACyG,QAAQ,GAAGzF,GAAG;QACpB,OAAOhB,KAAK;MAChB,CAAC,CAAC;IACN,CAAC,CAAC,CAACoB,KAAK,CAAEJ,GAAG,IAAK;MACd,IAAI,CAACJ,QAAQ,CAAC;QAAC,GAAG,IAAI,CAACZ,KAAK;QAAEE,KAAK,EAAEc;MAAG,CAAC,CAAC;IAC9C,CAAC,CAAC;IAEFH,GAAG,CAAC,WAAW,IAAI,CAACP,EAAE,SAAS,CAAC,CAACS,IAAI,CAAEC,GAAG,IAAK;MAC3C,IAAI,CAACJ,QAAQ,CAAEZ,KAAK,IAAG;QACnB,OAAO;UAAC,GAAGA,KAAK;UAAEwE,UAAU,EAAExD;QAAG,CAAC;MACtC,CAAC,CAAC;IACN,CAAC,CAAC,CAACI,KAAK,CAAEJ,GAAG,IAAK;MACdN,OAAO,CAACC,GAAG,CAACK,GAAG,CAAC;MAChB,IAAI,CAACJ,QAAQ,CAAC;QAAC,GAAG,IAAI,CAACZ,KAAK;QAAEE,KAAK,EAAEc;MAAG,CAAC,CAAC;IAC9C,CAAC,CAAC;EACN;EAEAK,MAAMA,CAAA,EAAG;IACL,IAAG,IAAI,CAACrB,KAAK,CAACE,KAAK,IAAI,IAAI,EAAE;MACzB,oBAAOJ,KAAA,CAAAwB,aAAA,0BAAIxB,KAAA,CAAAwB,aAAA,aAAI,kBAAM,EAAC,IAAI,CAACtB,KAAK,CAACE,KAAK,CAAC6E,IAAS,CAAK,CAAC;IAC1D;IACA,IAAG,IAAI,CAAC/E,KAAK,CAACwE,UAAU,IAAI,IAAI,EAAE;MAC9B,oBAAO1E,KAAA,CAAAwB,aAAA,0BAAIxB,KAAA,CAAAwB,aAAA,WAAQ,CAAK,CAAC;MACzB;IACJ;IACA,IAAG,IAAI,CAACtB,KAAK,CAACyG,QAAQ,IAAI,IAAI,EAAE;MAC5B,oBAAO3G,KAAA,CAAAwB,aAAA,0BAAIxB,KAAA,CAAAwB,aAAA,WAAQ,CAAK,CAAC;MACzB;IACJ;IAEA,MAAM0D,aAAa,GAAGC,QAAQ,CAAC,IAAI,CAACjF,KAAK,CAACwE,UAAU,CAAC,WAAW,CAAC,CAACU,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;IAChF,MAAMC,sBAAsB,GAAIC,KAAK,IAAK;MACtC,KAAI,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG,EAAE,EAAEA,CAAC,EAAE,EAAE;QACxB,MAAMC,QAAQ,GAAG,CAACN,aAAa,GAAC,CAAC,GAACK,CAAC,IAAE,EAAE,GAAC,CAAC;QACzCD,KAAK,CAACE,QAAQ,CAAC;MACnB;IACJ,CAAC;IAED,MAAM0C,WAAW,GAAG,IAAI,CAAChI,KAAK,CAACyG,QAAQ;IAEvC,MAAMlB,aAAa,GAAG,EAAE;IACxB,MAAMC,cAAc,GAAG,EAAE;IACzB,MAAMC,eAAe,GAAG,EAAE;IAE1BN,sBAAsB,CAAEQ,GAAG,IAAG;MAC1B,MAAMI,KAAK,GAAGiC,WAAW,CAACrC,GAAG,CAAC,CAAC,aAAa,CAAC;MAC7C,IAAGI,KAAK,IAAI,CAAC,EAAE;QACXN,eAAe,CAACI,IAAI,CAACF,GAAG,CAAC;QACzB;MACJ;MACAJ,aAAa,CAACM,IAAI,eAAC/F,KAAA,CAAAwB,aAAA;QAAIuC,GAAG,EAAE,MAAM,GAAC8B;MAAI,GAAEG,QAAQ,CAACH,GAAG,CAAM,CAAC,CAAC;MAC7DH,cAAc,CAACK,IAAI,eAAC/F,KAAA,CAAAwB,aAAA;QAAIuC,GAAG,EAAE,MAAM,GAAC8B;MAAI,GAAEI,KAAU,CAAC,CAAC;IAC1D,CAAC,CAAC;IAEF,MAAMW,aAAa,GAAG,EAAE;IACxB,MAAMC,GAAG,GAAIC,QAAQ,IAAG;MACpB,MAAM;QAACC,MAAM;QAACC,UAAU;QAACC,WAAW;QAACC;MAAM,CAAC,GAAGgB,WAAW,CAACpB,QAAQ,CAAC;MACpE,IAAGC,MAAM,IAAII,aAAa,CAACC,UAAU,EAAE;QACnC,oBAAOpH,KAAA,CAAAwB,aAAA;UAAIuC,GAAG,EAAE+C,QAAS;UAACxE,SAAS,EAAC;QAAyB,CAAK,CAAC;MACvE,CAAC,MAAM,IAAGyE,MAAM,IAAII,aAAa,CAACE,QAAQ,EAAE;QACxC,oBAAOrH,KAAA,CAAAwB,aAAA;UAAIuC,GAAG,EAAE+C,QAAS;UAACxE,SAAS,EAAC;QAAuB,GAAC,GAAK,CAAC;MACtE,CAAC,MAAM,IAAGyE,MAAM,IAAII,aAAa,CAACG,cAAc,EAAE;QAC9C,oBAAOtH,KAAA,CAAAwB,aAAA;UAAIuC,GAAG,EAAE+C,QAAS;UAACxE,SAAS,EAAC;QAA6B,GAAE0E,UAAU,EAAC,GAAC,EAACC,WAAgB,CAAC;MACrG,CAAC,MAAM,IAAGF,MAAM,IAAII,aAAa,CAACI,IAAI,EAAE;QACpC,oBAAOvH,KAAA,CAAAwB,aAAA;UAAIuC,GAAG,EAAE+C,QAAS;UAACxE,SAAS,EAAE,oBAAoB,IAAE4E,MAAM,GAAG,uBAAuB,GAAG,EAAE;QAAE,GAAEF,UAAe,CAAC;MACxH,CAAC,MAAM,IAAGD,MAAM,IAAII,aAAa,CAACK,eAAe,EAAE;QAC/C,oBAAOxH,KAAA,CAAAwB,aAAA;UAAIuC,GAAG,EAAE+C,QAAS;UAACxE,SAAS,EAAC;QAA0B,GAAE0E,UAAe,CAAC;MACpF;IACJ,CAAC;IAED3B,sBAAsB,CAAEQ,GAAG,IAAG;MAC1B,IAAGF,eAAe,CAACvD,QAAQ,CAACyD,GAAG,CAAC,EAAE;QAC9B;MACJ;MACAe,aAAa,CAACb,IAAI,CAACc,GAAG,CAAChB,GAAG,CAAC,CAAC;IAChC,CAAC,CAAC;IAEF,oBAAO7F,KAAA,CAAAwB,aAAA,CAAAxB,KAAA,CAAAqE,QAAA,qBACHrE,KAAA,CAAAwB,aAAA;MAAIuC,GAAG,EAAE,qBAAqB,GAAC,IAAI,CAACvD,EAAG;MAAC8B,SAAS,EAAC;IAAO,GACpDmD,aACD,CAAC,eACLzF,KAAA,CAAAwB,aAAA;MAAIuC,GAAG,EAAE,qBAAqB,GAAC,IAAI,CAACvD,EAAG;MAAC8B,SAAS,EAAC;IAAO,GACpDoD,cACD,CAAC,eACL1F,KAAA,CAAAwB,aAAA;MAAIuC,GAAG,EAAE,yBAAyB,GAAC,IAAI,CAACvD,EAAE,GAAC,GAAG,GAAC,CAAE;MAAC8B,SAAS,EAAC;IAAe,GACtEsE,aACD,CACN,CAAC;EACP;AACJ;AAEA,MAAMuB,cAAc,SAASnI,KAAK,CAACC,SAAS,CAAC;EACzCC,KAAK,GAAG;IAACkI,SAAS,EAAC,IAAI;IAACC,SAAS,EAAC,IAAI;IAACjI,KAAK,EAAC,IAAI;IAAC2C,gBAAgB,EAAC,CAAC;IAACb,aAAa,EAAC;EAAC,CAAC;EACrF5B,WAAWA,CAACC,KAAK,EAAE;IACf,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAAC0H,SAAS,GAAGK,OAAO,CAACC,SAAS,CAACC,KAAK;IACxC,IAAI,CAACtI,KAAK,CAAC6C,gBAAgB,GAAGuF,OAAO,CAACC,SAAS,CAACxD,QAAQ;IAExD,SAASpE,GAAGA,CAACA,GAAG,EAAE;MACdC,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;MACvB,IAAI,CAACC,QAAQ,CAAC;QAAC,GAAG,IAAI,CAACZ,KAAK;QAACE,KAAK,EAACO;MAAG,CAAC,CAAC;IAC5C;IAEAI,GAAG,CAAC,WAAW,IAAI,CAACkH,SAAS,wBAAwB,CAAC,CAAChH,IAAI,CAAEC,GAAG,IAAG;MAC/D,IAAI,CAACJ,QAAQ,CAAC;QAAC,GAAG,IAAI,CAACZ,KAAK;QAACkI,SAAS,EAAClH;MAAG,CAAC,CAAC;MAE5CH,GAAG,CAAC,gBAAgBG,GAAG,CAACuH,UAAU,EAAE,CAAC,CAACxH,IAAI,CAAEC,GAAG,IAAG;QAC9C,IAAI,CAACJ,QAAQ,CAAC;UAAC,GAAG,IAAI,CAACZ,KAAK;UAACmI,SAAS,EAACnH;QAAG,CAAC,CAAC;MAChD,CAAC,CAAC,CAACI,KAAK,CAACX,GAAG,CAAC;IAEjB,CAAC,CAAC,CAACW,KAAK,CAACX,GAAG,CAAC;EACjB;EAEAgC,mBAAmB,GAAID,GAAG,IAAG;IACzB4F,OAAO,CAACC,SAAS,CAACxD,QAAQ,GAAGrC,GAAG;IAChC,IAAI,CAAC5B,QAAQ,CAACZ,KAAK,KAAG;MAAC,GAAGA,KAAK;MAAC6C,gBAAgB,EAACL;IAAG,CAAC,CAAC,CAAC;EAC3D,CAAC;EACDE,gBAAgB,GAAIF,GAAG,IAAG;IACtB,IAAI,CAAC5B,QAAQ,CAACZ,KAAK,KAAG;MAAC,GAAGA,KAAK;MAACgC,aAAa,EAACQ;IAAG,CAAC,CAAC,CAAC;EACxD,CAAC;EAEDnB,MAAMA,CAAA,EAAG;IACL,IAAG,IAAI,CAACrB,KAAK,CAACE,KAAK,IAAI,IAAI,EAAE;MACzB,oBAAOJ,KAAA,CAAAwB,aAAA,eAAM,kBAAM,EAAC,IAAI,CAACtB,KAAK,CAACE,KAAY,CAAC;IAChD;IACA,IAAG,IAAI,CAACF,KAAK,CAACkI,SAAS,IAAI,IAAI,EAAE;MAC7B,oBAAOpI,KAAA,CAAAwB,aAAA,eAAM,gBAAoB,CAAC;IACtC;IACA,IAAG,IAAI,CAACtB,KAAK,CAACmI,SAAS,IAAI,IAAI,EAAE;MAC7B,oBAAOrI,KAAA,CAAAwB,aAAA,eAAM,gBAAoB,CAAC;IACtC;IACA,MAAM4G,SAAS,GAAG,IAAI,CAAClI,KAAK,CAACkI,SAAS;IACtCA,SAAS,CAACM,iBAAiB,GAAGC,SAAS;IAEvC,MAAMC,SAAS,GAAGR,SAAS,CAACS,IAAI;IAEhC,MAAMR,SAAS,GAAG,IAAI,CAACnI,KAAK,CAACmI,SAAS;IACtC,oBAAOrI,KAAA,CAAAwB,aAAA;MAAKc,SAAS,EAAC;IAAgB,gBAClCtC,KAAA,CAAAwB,aAAA;MAAKc,SAAS,EAAC;IAAc,gBACzBtC,KAAA,CAAAwB,aAAA;MAAKc,SAAS,EAAC;IAAe,gBAC1BtC,KAAA,CAAAwB,aAAA;MAAKc,SAAS,EAAC;IAAM,gBACjBtC,KAAA,CAAAwB,aAAA;MAAKe,OAAO,EAAEA,CAAA,KAAM;QAChB;QACA/C,UAAU,eAACQ,KAAA,CAAAwB,aAAA,CAAC5B,eAAe;UAACY,EAAE,EAAE4H,SAAS,CAAC5H;QAAG,CAAC,CAAC,CAAC;MACpD;IAAE,gBACER,KAAA,CAAAwB,aAAA;MAAIc,SAAS,EAAC,eAAe;MAACC,OAAO,EAAEA,CAAA,KAAM,CAE7C;IAAE,GAAE6F,SAAS,CAACjH,IAAS,CAAC,eACxBnB,KAAA,CAAAwB,aAAA,eAAO4G,SAAS,CAACU,OAAc,CAC9B,CAAC,eASN9I,KAAA,CAAAwB,aAAA;MAAKe,OAAO,EAAEA,CAAA,KAAM;QAChB/C,UAAU,eAACQ,KAAA,CAAAwB,aAAA,CAAC7B,oBAAoB;UAACoJ,YAAY,EAAEX,SAAS,CAACK;QAAW,CAAC,CAAC,CAAC;MAC3E;IAAE,gBACEzI,KAAA,CAAAwB,aAAA;MAAKwH,GAAG,EAAE,WAAWX,SAAS,CAACY,MAAM;IAAG,CAAC,CAAC,EACzCZ,SAAS,IAAI,IAAI,GAAG,IAAI,gBAAGrI,KAAA,CAAAwB,aAAA;MACxBc,SAAS,EAAC;IAAe,GAAE,GAAG+F,SAAS,CAACrE,SAAS,IAAIqE,SAAS,CAACpE,QAAQ,IAAIoE,SAAS,CAACa,QAAQ,EAAS,CAEzG,CAAC,eAGNlJ,KAAA,CAAAwB,aAAA,2BACIxB,KAAA,CAAAwB,aAAA;MAAKwH,GAAG,EAAC;IAA2B,CAAC,CAAC,eACtChJ,KAAA,CAAAwB,aAAA,eAAM,aAAW,EAAC2H,KAAK,CAACf,SAAS,CAACgB,mBAAmB,CAAQ,CAC5D,CAAC,eAENpJ,KAAA,CAAAwB,aAAA,2BACIxB,KAAA,CAAAwB,aAAA;MAAKwH,GAAG,EAAC;IAAwB,CAAC,CAAC,eACnChJ,KAAA,CAAAwB,aAAA,eAAM,yBAA0B,CAC/B,CAAC,eAGNxB,KAAA,CAAAwB,aAAA,2BACIxB,KAAA,CAAAwB,aAAA;MAAKwH,GAAG,EAAC;IAAuB,CAAC,CAAC,eAClChJ,KAAA,CAAAwB,aAAA,eAAM,SAAa,CAClB,CAAC,eACNxB,KAAA,CAAAwB,aAAA,2BACIxB,KAAA,CAAAwB,aAAA;MAAKwH,GAAG,EAAC;IAAoD,CAAC,CAAC,eAC/DhJ,KAAA,CAAAwB,aAAA,eAAM,SAAa,CAClB,CAEJ,CAAC,eACNxB,KAAA,CAAAwB,aAAA,CAAC6H,cAAc,MAAC,CACf,CAAC,eACNrJ,KAAA,CAAAwB,aAAA;MAAKc,SAAS,EAAC;IAAe,gBAC1BtC,KAAA,CAAAwB,aAAA;MAAKc,SAAS,EAAC;IAAwB,gBACnCtC,KAAA,CAAAwB,aAAA,CAAC8H,eAAe;MAACC,MAAM,EAAEA,CAAA,KAAI;QACzBC,UAAU,CAAC,CAAC;MAChB;IAAE,GAAC,kBAA4B,CAAC,eAChCxJ,KAAA,CAAAwB,aAAA,CAAC8H,eAAe;MAACC,MAAM,EAAEA,CAAA,KAAI;QACzB,MAAME,EAAE,GAAG,IAAI,CAACvJ,KAAK,CAACgC,aAAa;QACnC,IAAGuH,EAAE,IAAI,CAAC,EAAE;UACR;QACJ;QACAC,oBAAoB,CAACD,EAAE,CAAC;MAC5B;IAAE,GAAC,mBAA6B,CAAC,eACjCzJ,KAAA,CAAAwB,aAAA,CAAC8H,eAAe;MAACC,MAAM,EAAEA,CAAA,KAAI;QACzBI,eAAe,CAAC,CAAC;MACrB;IAAE,GAAC,kBAAiC,CAAC,eACrC3J,KAAA,CAAAwB,aAAA,CAAC8H,eAAe;MAACC,MAAM,EAAEA,CAAA,KAAI;QACzB,MAAMK,EAAE,GAAG,IAAI,CAAC1J,KAAK,CAAC6C,gBAAgB;QACtC,IAAG6G,EAAE,IAAI,CAAC,EAAE;UACR;QACJ;QACAC,yBAAyB,CAACD,EAAE,CAAC;MACjC;IAAE,GAAC,mBAAkC,CAAC,eACtC5J,KAAA,CAAAwB,aAAA,CAAC8H,eAAe;MAACC,MAAM,EAAEA,CAAA,KAAI;QACzB,MAAMK,EAAE,GAAG,IAAI,CAAC1J,KAAK,CAAC6C,gBAAgB;QACtC,IAAG6G,EAAE,IAAI,CAAC,EAAE;UACR;QACJ;QACAtB,OAAO,CAACwB,cAAc,CAACF,EAAE,CAAC;MAC9B;IAAE,GAAC,aAA4B,CAAC,eAChC5J,KAAA,CAAAwB,aAAA,CAAC8H,eAAe;MAACC,MAAM,EAAEA,CAAA,KAAI;QACzB,MAAMK,EAAE,GAAG,IAAI,CAAC1J,KAAK,CAAC6C,gBAAgB;QACtC,IAAG6G,EAAE,IAAI,CAAC,EAAE;UACR;QACJ;QACA;QACA;QACA;QACA;QACApK,UAAU,eAACQ,KAAA,CAAAwB,aAAA,CAAC/B,gCAAgC;UAAC4C,UAAU,EAAEiG,OAAO,CAACC,SAAS,CAACxD;QAAS,CAAC,CAAC,CAAC;MAC3F;IAAE,GAAC,aAA4B,CAAC,eAChC/E,KAAA,CAAAwB,aAAA,CAAC8H,eAAe;MAACC,MAAM,EAAEA,CAAA,KAAI;QACzB,MAAMK,EAAE,GAAG,IAAI,CAAC1J,KAAK,CAAC6C,gBAAgB;QACtC,IAAG6G,EAAE,KAAK,CAAC,EAAE;UACT;QACJ;QACApK,UAAU,eAACQ,KAAA,CAAAwB,aAAA,CAAC9B,oCAAoC;UAAC2C,UAAU,EAAEiG,OAAO,CAACC,SAAS,CAACxD;QAAS,CAAC,CAAC,CAAC;MAC/F;IAAE,GAAC,UAAyB,CAAC,EAEzB,IAAI,CAAC7E,KAAK,CAACkI,SAAS,CAACS,IAAI,IAAIkB,SAAS,CAACC,UAAU,gBAC7ChK,KAAA,CAAAwB,aAAA,CAAC8H,eAAe;MAACC,MAAM,EAAEA,CAAA,KAAI;QACzBU,yBAAyB,CAAC,IAAI,CAAC/J,KAAK,CAACkI,SAAS,CAAC,IAAI,CAAC,CAAC;MACzD;IAAE,GAAC,iCAAmC,CAAC,gBAEvCpI,KAAA,CAAAwB,aAAA,CAAC8H,eAAe;MAACC,MAAM,EAAEA,CAAA,KAAI;QACzB,MAAMK,EAAE,GAAG,IAAI,CAAC1J,KAAK,CAAC6C,gBAAgB;QACtC,IAAG6G,EAAE,IAAI,CAAC,EAAE;UACR;QACJ;QACAM,iBAAiB,CAACN,EAAE,CAAC;MACzB;IAAE,GAAC,gCAAqC,CAE/C,CACJ,CACJ,CAAC,eACN5J,KAAA,CAAAwB,aAAA;MAAKc,SAAS,EAAC;IAAc,gBACzBtC,KAAA,CAAAwB,aAAA,2BACIxB,KAAA,CAAAwB,aAAA;MAAOc,SAAS,EAAC;IAAY,gBACzBtC,KAAA,CAAAwB,aAAA,gBACC4G,SAAS,CAAC+B,MAAM,CAAClH,GAAG,CAAC,CAAC;MAACzC;IAAE,CAAC,kBAAGR,KAAA,CAAAwB,aAAA,CAACzB,2BAA2B;MAACkC,KAAK,EAAE,IAAK;MAACxB,OAAO,EAAED,EAAG;MAACuD,GAAG,EAAE,qBAAqB,GAACvD;IAAG,CAAC,CAAC,CAAC,eACtHR,KAAA,CAAAwB,aAAA,CAACzB,2BAA2B;MAACkC,KAAK,EAAE,IAAK;MAACjB,OAAO,EAAE,IAAI,CAACiH,SAAU;MAACxH,OAAO,EAAE,CAAE;MAACsD,GAAG,EAAE;IAAgB,CAAC,CAC9F,CACJ,CAAC,eACR/D,KAAA,CAAAwB,aAAA;MAAOc,SAAS,EAAC;IAAY,gBACzBtC,KAAA,CAAAwB,aAAA,gBAEIoH,SAAS,IAAImB,SAAS,CAACK,SAAS,gBAC5BpK,KAAA,CAAAwB,aAAA,CAAAxB,KAAA,CAAAqE,QAAA,QACK+D,SAAS,CAAC+B,MAAM,CAAClH,GAAG,CAAC,CAAC;MAACzC;IAAE,CAAC,kBAAGR,KAAA,CAAAwB,aAAA,CAAC+C,+BAA+B;MAACtC,KAAK,EAAE,IAAK;MAACxB,OAAO,EAAED,EAAG;MAACuD,GAAG,EAAE,yBAAyB,GAACvD;IAAG,CAAC,CAAC,CAAC,eAC9HR,KAAA,CAAAwB,aAAA,CAAC+C,+BAA+B;MAACtC,KAAK,EAAE,IAAK;MAACjB,OAAO,EAAE,IAAI,CAACiH,SAAU;MAACxH,OAAO,EAAE,CAAE;MAACsD,GAAG,EAAE;IAA6B,CAAC,CACxH,CAAC,GAEP6E,SAAS,IAAImB,SAAS,CAACM,WAAW,gBAC9BrK,KAAA,CAAAwB,aAAA,CAAAxB,KAAA,CAAAqE,QAAA,QACK+D,SAAS,CAAC+B,MAAM,CAAClH,GAAG,CAAC,CAAC;MAACzC;IAAE,CAAC,kBAAGR,KAAA,CAAAwB,aAAA,CAACiG,qCAAqC;MAACxF,KAAK,EAAE,IAAK;MAACxB,OAAO,EAAED,EAAG;MAACuD,GAAG,EAAE,yBAAyB,GAACvD;IAAG,CAAC,CAAC,CAAC,eACpIR,KAAA,CAAAwB,aAAA,CAACiG,qCAAqC;MAACxF,KAAK,EAAE,IAAK;MAACjB,OAAO,EAAE,IAAI,CAACiH,SAAU;MAACxH,OAAO,EAAE,CAAE;MAACsD,GAAG,EAAE;IAA6B,CAAC,CAC9H,CAAC,GAEP6E,SAAS,IAAImB,SAAS,CAACC,UAAU,gBAC7BhK,KAAA,CAAAwB,aAAA,CAAAxB,KAAA,CAAAqE,QAAA,qBACIrE,KAAA,CAAAwB,aAAA,CAACwG,oCAAoC;MAACC,SAAS,EAAE,IAAI,CAACA,SAAU;MAAClE,GAAG,EAAE;IAA0B,CAAC,CAAC,eAClG/D,KAAA,CAAAwB,aAAA,CAAC+C,+BAA+B;MAACvD,OAAO,EAAE,IAAI,CAACiH,SAAU;MAACxH,OAAO,EAAE,CAAE;MAACsD,GAAG,EAAE;IAA6B,CAAC,CAC3G,CAAC,GACF,IAEF,CACJ,CACN,CACJ,CACJ,CAAC;EACV;AACJ;AACAuE,OAAO,CAACgC,OAAO,CAACC,MAAM,CAAC5D,QAAQ,GAAGwB,cAAc;AAEhD,OAAO,SAASmB,eAAeA,CAAC/I,KAAK,EAAE;EACnC,oBAAOP,KAAA,CAAAwB,aAAA;IAAMc,SAAS,EAAC,iBAAiB;IAACC,OAAO,EAAEhC,KAAK,CAACgJ;EAAO,GAAEhJ,KAAK,CAACiK,QAAe,CAAC;AAC3F;AAEA,SAASnB,cAAcA,CAAC9I,KAAK,EAAE;EAC3B,oBAAOP,KAAA,CAAAwB,aAAA;IAAKc,SAAS,EAAC;EAAS,gBAC3BtC,KAAA,CAAAwB,aAAA,2BACIxB,KAAA,CAAAwB,aAAA;IAAKc,SAAS,EAAC,cAAc;IAACoB,KAAK,EAAE;MAAC+G,eAAe,EAAE;IAAqB;EAAE,CAAM,CAAC,eACrFzK,KAAA,CAAAwB,aAAA;IAAKc,SAAS,EAAC;EAAa,GAAC,gBAAc,CAC1C,CAAC,eACNtC,KAAA,CAAAwB,aAAA,2BACIxB,KAAA,CAAAwB,aAAA;IAAKc,SAAS,EAAC,cAAc;IAACoB,KAAK,EAAE;MAAC+G,eAAe,EAAE;IAAqB;EAAE,CAAM,CAAC,eACrFzK,KAAA,CAAAwB,aAAA;IAAKc,SAAS,EAAC;EAAa,GAAC,uCAAsB,CAClD,CAAC,eACNtC,KAAA,CAAAwB,aAAA,2BACIxB,KAAA,CAAAwB,aAAA;IAAKc,SAAS,EAAC,cAAc;IAACoB,KAAK,EAAE;MAAC+G,eAAe,EAAE;IAAkB;EAAE,CAAM,CAAC,eAClFzK,KAAA,CAAAwB,aAAA;IAAKc,SAAS,EAAC;EAAa,GAAC,0BAAmB,CAC/C,CAAC,eACNtC,KAAA,CAAAwB,aAAA,2BACIxB,KAAA,CAAAwB,aAAA;IAAKc,SAAS,EAAC,cAAc;IAACoB,KAAK,EAAE;MAAC+G,eAAe,EAAE;IAAM;EAAE,CAAM,CAAC,eACtEzK,KAAA,CAAAwB,aAAA;IAAKc,SAAS,EAAC;EAAa,GAAC,gEAA0C,CACtE,CAAC,eACNtC,KAAA,CAAAwB,aAAA,2BACIxB,KAAA,CAAAwB,aAAA;IAAKc,SAAS,EAAC,cAAc;IAACoB,KAAK,EAAE;MAAC+G,eAAe,EAAE;IAAQ;EAAE,CAAM,CAAC,eACxEzK,KAAA,CAAAwB,aAAA;IAAKc,SAAS,EAAC;EAAa,GAAC,YAAe,CAC3C,CACJ,CAAC;AACV;AAEA,OAAO,SAAS6G,KAAKA,CAAC3I,EAAE,EAAE;EACtB,QAAOA,EAAE;IACL,KAAK,CAAC;MACF,OAAO,cAAc;IACzB,KAAK,CAAC;MACF,OAAO,QAAQ;IACnB,KAAK,CAAC;MACF,OAAO,OAAO;IAClB,KAAK,CAAC;MACF,OAAO,UAAU;IACrB,KAAK,CAAC;MACF,OAAO,QAAQ;IACnB,KAAK,CAAC;MACF,OAAO,QAAQ;IACnB,KAAK,CAAC;MACF,OAAO,WAAW;EAC1B;AACJ;AAEA,OAAO,SAASwF,QAAQA,CAACxF,EAAE,EAAE;EACzB,QAAOA,EAAE;IACL,KAAK,CAAC;MACF,OAAO,SAAS;IACpB,KAAK,CAAC;MACF,OAAO,MAAM;IACjB,KAAK,CAAC;MACF,OAAO,QAAQ;IACnB,KAAK,CAAC;MACF,OAAO,UAAU;IACrB,KAAK,CAAC;MACF,OAAO,KAAK;IAChB,KAAK,CAAC;MACF,OAAO,UAAU;IACrB,KAAK,CAAC;MACF,OAAO,QAAQ;IACnB,KAAK,CAAC;MACF,OAAO,UAAU;IACrB,KAAK,CAAC;MACF,OAAO,UAAU;IACrB,KAAK,EAAE;MACH,OAAO,aAAa;IACxB,KAAK,EAAE;MACH,OAAO,UAAU;IACrB,KAAK,EAAE;MACH,OAAO,UAAU;EACzB;AACJ;AAEA,SAAS4D,MAAMA,CAAC5D,EAAE,EAAE;EAChB,QAAOA,EAAE;IACL,KAAK,CAAC;MACF,OAAO,GAAG;IACd,KAAK,CAAC;MACF,OAAO,GAAG;IACd,KAAK,CAAC;MACF,OAAO,GAAG;IACd,KAAK,CAAC;MACF,OAAO,GAAG;EAClB;AACJ;AAEA,SAAS0D,gBAAgBA,CAACwG,GAAG,EAAE;EAC3B,IAAGA,GAAG,IAAI,IAAI,EAAE;IACZ,OAAO,IAAI;EACf;EACA,IAAGA,GAAG,CAACC,MAAM,IAAI,EAAE,EAAE;IACjB,OAAOD,GAAG;EACd;EACA,OAAO,GAAGA,GAAG,CAACE,SAAS,CAAC,CAAC,EAAC,CAAC,CAAC,IAAIF,GAAG,CAACE,SAAS,CAAC,CAAC,EAAC,CAAC,CAAC,IAAIF,GAAG,CAACE,SAAS,CAAC,CAAC,EAAC,CAAC,CAAC,IAAIF,GAAG,CAACE,SAAS,CAAC,CAAC,EAAC,EAAE,CAAC,EAAE;AACrG;AACA,MAAMzD,aAAa,CAAC;EACf,OAAOI,IAAI,GAAG,CAAC;EACf,OAAOD,cAAc,GAAG,CAAC;EACzB,OAAOD,QAAQ,GAAG,CAAC;EACnB,OAAOD,UAAU,GAAG,CAAC;EACrB,OAAOI,eAAe,GAAG,CAAC;AAC9B;AAED,OAAO,MAAMuC,SAAS,CAAC;EACnB,OAAOK,SAAS,GAAG,CAAC;EACpB,OAAOC,WAAW,GAAG,CAAC;EACtB,OAAOL,UAAU,GAAG,CAAC;AACzB","ignoreList":[]}